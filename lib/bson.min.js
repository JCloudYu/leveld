(function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.bson=t()})(this,function(){"use strict";function createCommonjsModule(e,t){return t={exports:{}},e(t,t.exports),t.exports}function Long(e,t){return this instanceof Long?void(this._bsontype="Long",this.low_=0|e,this.high_=0|t):new Long(e,t)}function Double(e){return this instanceof Double?void(this._bsontype="Double",this.value=e):new Double(e)}function Timestamp(e,t){e instanceof long_1?long_1.call(this,e.low_,e.high_):long_1.call(this,e,t),this._bsontype="Timestamp"}function endianness(){if("undefined"==typeof _endianness){var e=new ArrayBuffer(2),t=new Uint8Array(e),n=new Uint16Array(e);if(t[0]=1,t[1]=2,258===n[0])_endianness="BE";else if(513===n[0])_endianness="LE";else throw new Error("unable to figure out endianess")}return _endianness}function hostname(){return"undefined"==typeof global.location?"":global.location.hostname}function loadavg(){return[]}function uptime(){return 0}function freemem(){return _NumberMAX_VALUE}function totalmem(){return _NumberMAX_VALUE}function cpus(){return[]}function type(){return"Browser"}function release(){return"undefined"==typeof global.navigator?"":global.navigator.appVersion}function networkInterfaces(){}function getNetworkInterfaces(){}function arch(){return"javascript"}function platform(){return"browser"}function tmpDir(){return"/tmp"}function fnv1a32(e,t){t=t||"utf8";for(var n=Buffer.from(e,t),o=OFFSET_BASIS,r=0;r<n.length;r+=1)o=o.xor(new long_1(n[r],0)),o=o.multiply(FNV_PRIME),o=o.and(FNV_MASK);return o.getLowBitsUnsigned()}function fnv1a24(e,t){var n=fnv1a32(e,t);return(n&16777215^n>>>24&255)&16777215}function ObjectID(e){if(e instanceof ObjectID)return e;if(!(this instanceof ObjectID))return new ObjectID(e);if(this._bsontype="ObjectID",null==e||"number"==typeof e)return this.id=this.generate(e),void(ObjectID.cacheHexString&&(this.__id=this.toString("hex")));var t=ObjectID.isValid(e);if(!t&&null!=e)throw new TypeError("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");else{if(t&&"string"==typeof e&&24===e.length&&hasBufferType)return new ObjectID(new Buffer(e,"hex"));if(t&&"string"==typeof e&&24===e.length)return ObjectID.createFromHexString(e);if(null!=e&&12===e.length)this.id=e;else{if(null!=e&&e.toHexString)return e;throw new TypeError("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters")}}ObjectID.cacheHexString&&(this.__id=this.toString("hex"))}function alphabetize(e){return e.split("").sort().join("")}function BSONRegExp(e,t){if(!(this instanceof BSONRegExp))return new BSONRegExp(e,t);this._bsontype="BSONRegExp",this.pattern=e||"",this.options=t?alphabetize(t):"";for(var n=0;n<this.options.length;n++)if("i"!==this.options[n]&&"m"!==this.options[n]&&"x"!==this.options[n]&&"l"!==this.options[n]&&"s"!==this.options[n]&&"u"!==this.options[n])throw new Error("the regular expression options ["+this.options[n]+"] is not supported")}function _Symbol(e){return this instanceof _Symbol?void(this._bsontype="Symbol",this.value=e):new _Symbol(e)}function Int32(e){return this instanceof Int32?void(this._bsontype="Int32",this.value=e):new Int32(e)}function Code(e,t){return this instanceof Code?void(this._bsontype="Code",this.code=e,this.scope=t):new Code(e,t)}function Decimal128(e){this._bsontype="Decimal128",this.bytes=e}function MinKey(){return this instanceof MinKey?void(this._bsontype="MinKey"):new MinKey}function MaxKey(){return this instanceof MaxKey?void(this._bsontype="MaxKey"):new MaxKey}function DBRef(e,t,n,i){if(!(this instanceof DBRef))return new DBRef(e,t,n,i);var o=e.split(".");2===o.length&&(n=o.shift(),e=o.shift()),this._bsontype="DBRef",this.collection=e,this.oid=t,this.db=n,this.fields=i||{}}function init(){inited=!0;for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=0,n=e.length;t<n;++t)lookup[t]=e[t],revLookup[e.charCodeAt(t)]=t;revLookup[45]=62,revLookup[95]=63}function toByteArray(e){inited||init();var t,n,o,r,s,_,u=e.length;if(0<u%4)throw new Error("Invalid string. Length must be a multiple of 4");s="="===e[u-2]?2:"="===e[u-1]?1:0,_=new Arr(3*u/4-s),o=0<s?u-4:u;var f=0;for(t=0,n=0;t<o;t+=4,n+=3)r=revLookup[e.charCodeAt(t)]<<18|revLookup[e.charCodeAt(t+1)]<<12|revLookup[e.charCodeAt(t+2)]<<6|revLookup[e.charCodeAt(t+3)],_[f++]=255&r>>16,_[f++]=255&r>>8,_[f++]=255&r;return 2===s?(r=revLookup[e.charCodeAt(t)]<<2|revLookup[e.charCodeAt(t+1)]>>4,_[f++]=255&r):1==s&&(r=revLookup[e.charCodeAt(t)]<<10|revLookup[e.charCodeAt(t+1)]<<4|revLookup[e.charCodeAt(t+2)]>>2,_[f++]=255&r>>8,_[f++]=255&r),_}function tripletToBase64(e){return lookup[63&e>>18]+lookup[63&e>>12]+lookup[63&e>>6]+lookup[63&e]}function encodeChunk(e,t,n){for(var o,r=[],s=t;s<n;s+=3)o=(e[s]<<16)+(e[s+1]<<8)+e[s+2],r.push(tripletToBase64(o));return r.join("")}function fromByteArray(e){inited||init();for(var t,n=e.length,o=n%3,r="",s=[],_=16383,u=0,f=n-o;u<f;u+=_)s.push(encodeChunk(e,u,u+_>f?f:u+_));return 1===o?(t=e[n-1],r+=lookup[t>>2],r+=lookup[63&t<<4],r+="=="):2===o&&(t=(e[n-2]<<8)+e[n-1],r+=lookup[t>>10],r+=lookup[63&t>>4],r+=lookup[63&t<<2],r+="="),s.push(r),s.join("")}function read(t,n,o,r,_){var u,f,a=8*_-r-1,l=(1<<a)-1,p=l>>1,g=-7,h=o?_-1:0,y=o?-1:1,d=t[n+h];for(h+=y,u=d&(1<<-g)-1,d>>=-g,g+=a;0<g;u=256*u+t[n+h],h+=y,g-=8);for(f=u&(1<<-g)-1,u>>=-g,g+=r;0<g;f=256*f+t[n+h],h+=y,g-=8);if(0===u)u=1-p;else{if(u===l)return f?NaN:(d?-1:1)*(1/0);f+=_Mathpow(2,r),u-=p}return(d?-1:1)*f*_Mathpow(2,u-r)}function write(t,n,o,r,_,u){var f,a,l,p=8*u-_-1,g=(1<<p)-1,h=g>>1,y=23===_?5.960464477539063e-8-6.617444900424222e-24:0,b=r?0:u-1,N=r?1:-1,d=0>n||0===n&&0>1/n?1:0;for(n=_Mathabs(n),isNaN(n)||n===1/0?(a=isNaN(n)?1:0,f=g):(f=_Mathfloor(_Mathlog(n)/_MathLN),1>n*(l=_Mathpow(2,-f))&&(f--,l*=2),n+=1<=f+h?y/l:y*_Mathpow(2,1-h),2<=n*l&&(f++,l/=2),f+h>=g?(a=0,f=g):1<=f+h?(a=(n*l-1)*_Mathpow(2,_),f+=h):(a=n*_Mathpow(2,h-1)*_Mathpow(2,_),f=0));8<=_;t[o+b]=255&a,b+=N,a/=256,_-=8);for(f=f<<_|a,p+=_;0<p;t[o+b]=255&f,b+=N,f/=256,p-=8);t[o+b-N]|=128*d}function kMaxLength(){return Buffer$1.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function createBuffer(e,t){if(kMaxLength()<t)throw new RangeError("Invalid typed array length");return Buffer$1.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=Buffer$1.prototype):(null===e&&(e=new Buffer$1(t)),e.length=t),e}function Buffer$1(e,t,n){if(!Buffer$1.TYPED_ARRAY_SUPPORT&&!(this instanceof Buffer$1))return new Buffer$1(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return allocUnsafe(this,e)}return from(this,e,t,n)}function from(e,t,n,i){if("number"==typeof t)throw new TypeError("\"value\" argument must not be a number");return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?fromArrayBuffer(e,t,n,i):"string"==typeof t?fromString(e,t,n):fromObject(e,t)}function assertSize(e){if("number"!=typeof e)throw new TypeError("\"size\" argument must be a number");else if(0>e)throw new RangeError("\"size\" argument must not be negative")}function alloc(e,t,n,i){return assertSize(t),0>=t?createBuffer(e,t):void 0===n?createBuffer(e,t):"string"==typeof i?createBuffer(e,t).fill(n,i):createBuffer(e,t).fill(n)}function allocUnsafe(e,t){if(assertSize(t),e=createBuffer(e,0>t?0:0|checked(t)),!Buffer$1.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function fromString(e,t,n){if(("string"!=typeof n||""===n)&&(n="utf8"),!Buffer$1.isEncoding(n))throw new TypeError("\"encoding\" must be a valid string encoding");var i=0|byteLength(t,n);e=createBuffer(e,i);var o=e.write(t,n);return o!==i&&(e=e.slice(0,o)),e}function fromArrayLike(e,t){var n=0>t.length?0:0|checked(t.length);e=createBuffer(e,n);for(var o=0;o<n;o+=1)e[o]=255&t[o];return e}function fromArrayBuffer(e,t,n,i){if(t.byteLength,0>n||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===i?new Uint8Array(t):void 0===i?new Uint8Array(t,n):new Uint8Array(t,n,i),Buffer$1.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=Buffer$1.prototype):e=fromArrayLike(e,t),e}function fromObject(e,t){if(internalIsBuffer(t)){var n=0|checked(t.length);return(e=createBuffer(e,n),0===e.length)?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||isnan(t.length)?createBuffer(e,0):fromArrayLike(e,t);if("Buffer"===t.type&&isArray(t.data))return fromArrayLike(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function checked(e){if(e>=kMaxLength())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+kMaxLength().toString(16)+" bytes");return 0|e}function SlowBuffer(e){return+e!=e&&(e=0),Buffer$1.alloc(+e)}function internalIsBuffer(e){return!!(null!=e&&e._isBuffer)}function byteLength(e,t){if(internalIsBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return utf8ToBytes(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return base64ToBytes(e).length;default:if(i)return utf8ToBytes(e).length;t=(""+t).toLowerCase(),i=!0;}}function slowToString(e,t,n){var i=!1;if((void 0===t||0>t)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),0>=n)return"";if(n>>>=0,t>>>=0,n<=t)return"";for(e||(e="utf8");;)switch(e){case"hex":return hexSlice(this,t,n);case"utf8":case"utf-8":return utf8Slice(this,t,n);case"ascii":return asciiSlice(this,t,n);case"latin1":case"binary":return latin1Slice(this,t,n);case"base64":return base64Slice(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,t,n);default:if(i)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0;}}function swap(e,t,n){var o=e[t];e[t]=e[n],e[n]=o}function bidirectionalIndexOf(e,t,n,i,o){if(0===e.length)return-1;if("string"==typeof n?(i=n,n=0):2147483647<n?n=2147483647:-2147483648>n&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:e.length-1),0>n&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(0>n)if(o)n=0;else return-1;if("string"==typeof t&&(t=Buffer$1.from(t,i)),internalIsBuffer(t))return 0===t.length?-1:arrayIndexOf(e,t,n,i,o);if("number"==typeof t)return t&=255,Buffer$1.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):arrayIndexOf(e,[t],n,i,o);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(e,t,n,o,r){function s(e,t){return 1===_?e[t]:e.readUInt16BE(t*_)}var _=1,u=e.length,f=t.length;if(void 0!==o&&(o=(o+"").toLowerCase(),"ucs2"===o||"ucs-2"===o||"utf16le"===o||"utf-16le"===o)){if(2>e.length||2>t.length)return-1;_=2,u/=2,f/=2,n/=2}var a;if(r){var l=-1;for(a=n;a<u;a++)if(s(e,a)!==s(t,-1===l?0:a-l))-1!==l&&(a-=a-l),l=-1;else if(-1===l&&(l=a),a-l+1===f)return l*_}else for(n+f>u&&(n=u-f),a=n;0<=a;a--){for(var d=!0,p=0;p<f;p++)if(s(e,a+p)!==s(t,p)){d=!1;break}if(d)return a}return-1}function hexWrite(e,t,n,o){n=+n||0;var r=e.length-n;o?(o=+o,o>r&&(o=r)):o=r;var s=t.length;if(0!=s%2)throw new TypeError("Invalid hex string");o>s/2&&(o=s/2);for(var _,u=0;u<o;++u){if(_=parseInt(t.substr(2*u,2),16),isNaN(_))return u;e[n+u]=_}return u}function utf8Write(e,t,n,i){return blitBuffer(utf8ToBytes(t,e.length-n),e,n,i)}function asciiWrite(e,t,n,i){return blitBuffer(asciiToBytes(t),e,n,i)}function latin1Write(e,t,n,i){return asciiWrite(e,t,n,i)}function base64Write(e,t,n,i){return blitBuffer(base64ToBytes(t),e,n,i)}function ucs2Write(e,t,n,i){return blitBuffer(utf16leToBytes(t,e.length-n),e,n,i)}function base64Slice(e,t,n){return 0===t&&n===e.length?fromByteArray(e):fromByteArray(e.slice(t,n))}function utf8Slice(e,t,n){n=_Mathmin(e.length,n);for(var o=[],r=t;r<n;){var s=e[r],_=null,u=239<s?4:223<s?3:191<s?2:1;if(r+u<=n){var f,a,l,d;1===u?128>s&&(_=s):2===u?(f=e[r+1],128==(192&f)&&(d=(31&s)<<6|63&f,127<d&&(_=d))):3===u?(f=e[r+1],a=e[r+2],128==(192&f)&&128==(192&a)&&(d=(15&s)<<12|(63&f)<<6|63&a,2047<d&&(55296>d||57343<d)&&(_=d))):4===u?(f=e[r+1],a=e[r+2],l=e[r+3],128==(192&f)&&128==(192&a)&&128==(192&l)&&(d=(15&s)<<18|(63&f)<<12|(63&a)<<6|63&l,65535<d&&1114112>d&&(_=d))):void 0}null===_?(_=65533,u=1):65535<_&&(_-=65536,o.push(55296|1023&_>>>10),_=56320|1023&_),o.push(_),r+=u}return decodeCodePointsArray(o)}function decodeCodePointsArray(e){var t=e.length;if(t<=4096)return _StringfromCharCode.apply(String,e);for(var n="",o=0;o<t;)n+=_StringfromCharCode.apply(String,e.slice(o,o+=4096));return n}function asciiSlice(e,t,n){var o="";n=_Mathmin(e.length,n);for(var r=t;r<n;++r)o+=_StringfromCharCode(127&e[r]);return o}function latin1Slice(e,t,n){var o="";n=_Mathmin(e.length,n);for(var r=t;r<n;++r)o+=_StringfromCharCode(e[r]);return o}function hexSlice(e,t,n){var o=e.length;(!t||0>t)&&(t=0),(!n||0>n||n>o)&&(n=o);for(var r="",s=t;s<n;++s)r+=toHex(e[s]);return r}function utf16leSlice(e,t,n){for(var o=e.slice(t,n),r="",s=0;s<o.length;s+=2)r+=_StringfromCharCode(o[s]+256*o[s+1]);return r}function checkOffset(e,t,n){if(0!=e%1||0>e)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function checkInt(e,t,n,i,o,r){if(!internalIsBuffer(e))throw new TypeError("\"buffer\" argument must be a Buffer instance");if(t>o||t<r)throw new RangeError("\"value\" argument is out of bounds");if(n+i>e.length)throw new RangeError("Index out of range")}function objectWriteUInt16(e,t,n,o){0>t&&(t=65535+t+1);for(var r=0,s=_Mathmin(e.length-n,2);r<s;++r)e[n+r]=(t&255<<8*(o?r:1-r))>>>8*(o?r:1-r)}function objectWriteUInt32(e,t,n,o){0>t&&(t=4294967295+t+1);for(var r=0,s=_Mathmin(e.length-n,4);r<s;++r)e[n+r]=255&t>>>8*(o?r:3-r)}function checkIEEE754(e,t,n,i){if(n+i>e.length)throw new RangeError("Index out of range");if(0>n)throw new RangeError("Index out of range")}function writeFloat(e,t,n,i,o){return o||checkIEEE754(e,t,n,4,34028234663852886e22,-34028234663852886e22),write(e,t,n,i,23,4),n+4}function writeDouble(e,t,n,i,o){return o||checkIEEE754(e,t,n,8,17976931348623157e292,-17976931348623157e292),write(e,t,n,i,52,8),n+8}function base64clean(e){if(e=stringtrim(e).replace(INVALID_BASE64_RE,""),2>e.length)return"";for(;0!=e.length%4;)e+="=";return e}function stringtrim(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function toHex(e){return 16>e?"0"+e.toString(16):e.toString(16)}function utf8ToBytes(e,t){t=t||1/0;for(var n,o=e.length,r=null,s=[],_=0;_<o;++_){if(n=e.charCodeAt(_),55295<n&&57344>n){if(!r){if(56319<n){-1<(t-=3)&&s.push(239,191,189);continue}else if(_+1===o){-1<(t-=3)&&s.push(239,191,189);continue}r=n;continue}if(56320>n){-1<(t-=3)&&s.push(239,191,189),r=n;continue}n=(r-55296<<10|n-56320)+65536}else r&&-1<(t-=3)&&s.push(239,191,189);if(r=null,128>n){if(0>(t-=1))break;s.push(n)}else if(2048>n){if(0>(t-=2))break;s.push(192|n>>6,128|63&n)}else if(65536>n){if(0>(t-=3))break;s.push(224|n>>12,128|63&n>>6,128|63&n)}else if(1114112>n){if(0>(t-=4))break;s.push(240|n>>18,128|63&n>>12,128|63&n>>6,128|63&n)}else throw new Error("Invalid code point")}return s}function asciiToBytes(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function utf16leToBytes(e,t){for(var n,o,r,s=[],_=0;_<e.length&&!(0>(t-=2));++_)n=e.charCodeAt(_),o=n>>8,r=n%256,s.push(r),s.push(o);return s}function base64ToBytes(e){return toByteArray(base64clean(e))}function blitBuffer(e,t,n,o){for(var r=0;r<o&&!(r+n>=t.length||r>=e.length);++r)t[r+n]=e[r];return r}function isnan(e){return e!==e}function isBuffer(e){return null!=e&&(!!e._isBuffer||isFastBuffer(e)||isSlowBuffer(e))}function isFastBuffer(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function isSlowBuffer(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&isFastBuffer(e.slice(0,0))}function Binary(e,t){if(!(this instanceof Binary))return new Binary(e,t);if(null!=e&&"string"!=typeof e&&!Buffer$2.isBuffer(e)&&!(e instanceof Uint8Array)&&!Array.isArray(e))throw new Error("only String, Buffer, Uint8Array or Array accepted");if(this._bsontype="Binary",e instanceof Number?(this.sub_type=e,this.position=0):(this.sub_type=null==t?BSON_BINARY_SUBTYPE_DEFAULT:t,this.position=0),null!=e&&!(e instanceof Number)){if("string"!=typeof e)this.buffer=e;else if("undefined"!=typeof Buffer$2)this.buffer=new Buffer$2(e);else if("undefined"!=typeof Uint8Array||"[object Array]"===Object.prototype.toString.call(e))this.buffer=writeStringToArray(e);else throw new TypeError("only String, Buffer, Uint8Array or Array accepted");this.position=e.length}else this.buffer="undefined"==typeof Buffer$2?"undefined"==typeof Uint8Array?Array(Binary.BUFFER_SIZE):new Uint8Array(new ArrayBuffer(Binary.BUFFER_SIZE)):new Buffer$2(Binary.BUFFER_SIZE),this.position=0}function normalizedFunctionString(e){return e.toString().replace("function(","function (")}function calculateElement(e,t,n,i,o){switch(t&&t.toBSON&&(t=t.toBSON()),"undefined"==typeof t?"undefined":_typeof(t)){case"string":return 1+Buffer.byteLength(e,"utf8")+1+4+Buffer.byteLength(t,"utf8")+1;case"number":return _Mathfloor(t)===t&&t>=BSON$2.JS_INT_MIN&&t<=BSON$2.JS_INT_MAX?t>=BSON$2.BSON_INT32_MIN&&t<=BSON$2.BSON_INT32_MAX?(null==e?0:Buffer.byteLength(e,"utf8")+1)+5:(null==e?0:Buffer.byteLength(e,"utf8")+1)+9:(null==e?0:Buffer.byteLength(e,"utf8")+1)+9;case"undefined":return i||!o?(null==e?0:Buffer.byteLength(e,"utf8")+1)+1:0;case"boolean":return(null==e?0:Buffer.byteLength(e,"utf8")+1)+2;case"object":if(null==t||t instanceof MinKey$3||t instanceof MaxKey$2||"MinKey"===t._bsontype||"MaxKey"===t._bsontype)return(null==e?0:Buffer.byteLength(e,"utf8")+1)+1;if(t instanceof ObjectID$2||"ObjectID"===t._bsontype)return(null==e?0:Buffer.byteLength(e,"utf8")+1)+13;if(t instanceof Date||isDate$1(t))return(null==e?0:Buffer.byteLength(e,"utf8")+1)+9;if("undefined"!=typeof Buffer&&Buffer.isBuffer(t))return(null==e?0:Buffer.byteLength(e,"utf8")+1)+6+t.length;if(t instanceof Long$3||t instanceof Double$2||t instanceof Timestamp$2||"Long"===t._bsontype||"Double"===t._bsontype||"Timestamp"===t._bsontype)return(null==e?0:Buffer.byteLength(e,"utf8")+1)+9;if(t instanceof decimal128||"Decimal128"===t._bsontype)return(null==e?0:Buffer.byteLength(e,"utf8")+1)+17;if(t instanceof Code$2||"Code"===t._bsontype)return null!=t.scope&&0<Object.keys(t.scope).length?(null==e?0:Buffer.byteLength(e,"utf8")+1)+1+4+4+Buffer.byteLength(t.code.toString(),"utf8")+1+calculateObjectSize(t.scope,n,o):(null==e?0:Buffer.byteLength(e,"utf8")+1)+1+4+Buffer.byteLength(t.code.toString(),"utf8")+1;if(t instanceof Binary$3||"Binary"===t._bsontype)return t.sub_type===Binary$3.SUBTYPE_BYTE_ARRAY?(null==e?0:Buffer.byteLength(e,"utf8")+1)+(t.position+1+4+1+4):(null==e?0:Buffer.byteLength(e,"utf8")+1)+(t.position+1+4+1);if(t instanceof _Symbol$1||"Symbol"===t._bsontype)return(null==e?0:Buffer.byteLength(e,"utf8")+1)+Buffer.byteLength(t.value,"utf8")+4+1+1;if(t instanceof DBRef$2||"DBRef"===t._bsontype){var r={$ref:t.collection,$id:t.oid};return null!=t.db&&(r.$db=t.db),r=Object.assign(r,t.fields),(null==e?0:Buffer.byteLength(e,"utf8")+1)+1+calculateObjectSize(r,n,o)}return t instanceof RegExp||"[object RegExp]"===Object.prototype.toString.call(t)?(null==e?0:Buffer.byteLength(e,"utf8")+1)+1+Buffer.byteLength(t.source,"utf8")+1+(t.global?1:0)+(t.ignoreCase?1:0)+(t.multiline?1:0)+1:t instanceof BSONRegExp$2||"BSONRegExp"===t._bsontype?(null==e?0:Buffer.byteLength(e,"utf8")+1)+1+Buffer.byteLength(t.pattern,"utf8")+1+Buffer.byteLength(t.options,"utf8")+1:(null==e?0:Buffer.byteLength(e,"utf8")+1)+calculateObjectSize(t,n,o)+1;case"function":if(t instanceof RegExp||"[object RegExp]"===Object.prototype.toString.call(t)||"[object RegExp]"===String.call(t))return(null==e?0:Buffer.byteLength(e,"utf8")+1)+1+Buffer.byteLength(t.source,"utf8")+1+(t.global?1:0)+(t.ignoreCase?1:0)+(t.multiline?1:0)+1;if(n&&null!=t.scope&&0<Object.keys(t.scope).length)return(null==e?0:Buffer.byteLength(e,"utf8")+1)+1+4+4+Buffer.byteLength(normalizedFunctionString$2(t),"utf8")+1+calculateObjectSize(t.scope,n,o);if(n)return(null==e?0:Buffer.byteLength(e,"utf8")+1)+1+4+Buffer.byteLength(normalizedFunctionString$2(t),"utf8")+1;}return 0}var _StringfromCharCode=String.fromCharCode,_Mathabs=Math.abs,_NumberMAX_VALUE=Number.MAX_VALUE,_Mathmin=Math.min,_MathLN=Math.LN2,_Mathlog=Math.log,_Mathmax=Math.max,_Mathfloor=Math.floor,_Mathpow=Math.pow,commonjsGlobal="undefined"==typeof window?"undefined"==typeof global?"undefined"==typeof self?{}:self:global:window,map=createCommonjsModule(function(e){if("undefined"!=typeof commonjsGlobal.Map)e.exports=commonjsGlobal.Map,e.exports.Map=commonjsGlobal.Map;else{var t=function(e){this._keys=[],this._values={};for(var t=0;t<e.length;t++)if(null!=e[t]){var n=e[t],o=n[0],r=n[1];this._keys.push(o),this._values[o]={v:r,i:this._keys.length-1}}};t.prototype.clear=function(){this._keys=[],this._values={}},t.prototype.delete=function(e){var t=this._values[e];return null!=t&&(delete this._values[e],this._keys.splice(t.i,1),!0)},t.prototype.entries=function(){var e=this,t=0;return{next:function(){var n=e._keys[t++];return{value:void 0===n?void 0:[n,e._values[n].v],done:void 0===n}}}},t.prototype.forEach=function(e,t){t=t||this;for(var n,o=0;o<this._keys.length;o++)n=this._keys[o],e.call(t,this._values[n].v,n,t)},t.prototype.get=function(e){return this._values[e]?this._values[e].v:void 0},t.prototype.has=function(e){return null!=this._values[e]},t.prototype.keys=function(){var e=this,t=0;return{next:function(){var n=e._keys[t++];return{value:void 0===n?void 0:n,done:void 0===n}}}},t.prototype.set=function(e,t){return this._values[e]?(this._values[e].v=t,this):(this._keys.push(e),this._values[e]={v:t,i:this._keys.length-1},this)},t.prototype.values=function(){var e=this,t=0;return{next:function(){var n=e._keys[t++];return{value:void 0===n?void 0:e._values[n].v,done:void 0===n}}}},Object.defineProperty(t.prototype,"size",{enumerable:!0,get:function(){return this._keys.length}}),e.exports=t,e.exports.Map=t}}),map_1=map.Map;Long.prototype.toInt=function(){return this.low_},Long.prototype.toNumber=function(){return this.high_*Long.TWO_PWR_32_DBL_+this.getLowBitsUnsigned()},Long.prototype.toJSON=function(){return this.toString()},Long.prototype.toString=function(e){var t=e||10;if(2>t||36<t)throw Error("radix out of range: "+t);if(this.isZero())return"0";if(this.isNegative()){if(this.equals(Long.MIN_VALUE)){var n=Long.fromNumber(t),i=this.div(n),o=i.multiply(n).subtract(this);return i.toString(t)+o.toInt().toString(t)}return"-"+this.negate().toString(t)}var r=Long.fromNumber(_Mathpow(t,6));o=this;for(var s="";!o.isZero();){var _=o.div(r),u=o.subtract(_.multiply(r)).toInt(),f=u.toString(t);if(o=_,o.isZero())return f+s;for(;6>f.length;)f="0"+f;s=""+f+s}},Long.prototype.getHighBits=function(){return this.high_},Long.prototype.getLowBits=function(){return this.low_},Long.prototype.getLowBitsUnsigned=function(){return 0<=this.low_?this.low_:Long.TWO_PWR_32_DBL_+this.low_},Long.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.equals(Long.MIN_VALUE)?64:this.negate().getNumBitsAbs();for(var e=0===this.high_?this.low_:this.high_,t=31;0<t&&0==(e&1<<t);t--);return 0===this.high_?t+1:t+33},Long.prototype.isZero=function(){return 0===this.high_&&0===this.low_},Long.prototype.isNegative=function(){return 0>this.high_},Long.prototype.isOdd=function(){return 1==(1&this.low_)},Long.prototype.equals=function(e){return this.high_===e.high_&&this.low_===e.low_},Long.prototype.notEquals=function(e){return this.high_!==e.high_||this.low_!==e.low_},Long.prototype.lessThan=function(e){return 0>this.compare(e)},Long.prototype.lessThanOrEqual=function(e){return 0>=this.compare(e)},Long.prototype.greaterThan=function(e){return 0<this.compare(e)},Long.prototype.greaterThanOrEqual=function(e){return 0<=this.compare(e)},Long.prototype.compare=function(e){if(this.equals(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.subtract(e).isNegative()?-1:1},Long.prototype.negate=function(){return this.equals(Long.MIN_VALUE)?Long.MIN_VALUE:this.not().add(Long.ONE)},Long.prototype.add=function(e){var t=this.high_>>>16,n=65535&this.high_,i=this.low_>>>16,o=65535&this.low_,r=e.high_>>>16,s=65535&e.high_,_=e.low_>>>16,u=65535&e.low_,f=0,a=0,l=0,d=0;return d+=o+u,l+=d>>>16,d&=65535,l+=i+_,a+=l>>>16,l&=65535,a+=n+s,f+=a>>>16,a&=65535,f+=t+r,f&=65535,Long.fromBits(l<<16|d,f<<16|a)},Long.prototype.subtract=function(e){return this.add(e.negate())},Long.prototype.multiply=function(e){if(this.isZero())return Long.ZERO;if(e.isZero())return Long.ZERO;if(this.equals(Long.MIN_VALUE))return e.isOdd()?Long.MIN_VALUE:Long.ZERO;if(e.equals(Long.MIN_VALUE))return this.isOdd()?Long.MIN_VALUE:Long.ZERO;if(this.isNegative())return e.isNegative()?this.negate().multiply(e.negate()):this.negate().multiply(e).negate();if(e.isNegative())return this.multiply(e.negate()).negate();if(this.lessThan(Long.TWO_PWR_24_)&&e.lessThan(Long.TWO_PWR_24_))return Long.fromNumber(this.toNumber()*e.toNumber());var t=this.high_>>>16,n=65535&this.high_,i=this.low_>>>16,o=65535&this.low_,r=e.high_>>>16,s=65535&e.high_,_=e.low_>>>16,u=65535&e.low_,f=0,a=0,l=0,d=0;return d+=o*u,l+=d>>>16,d&=65535,l+=i*u,a+=l>>>16,l&=65535,l+=o*_,a+=l>>>16,l&=65535,a+=n*u,f+=a>>>16,a&=65535,a+=i*_,f+=a>>>16,a&=65535,a+=o*s,f+=a>>>16,a&=65535,f+=t*u+n*_+i*s+o*r,f&=65535,Long.fromBits(l<<16|d,f<<16|a)},Long.prototype.div=function(e){if(e.isZero())throw Error("division by zero");else if(this.isZero())return Long.ZERO;if(this.equals(Long.MIN_VALUE)){if(e.equals(Long.ONE)||e.equals(Long.NEG_ONE))return Long.MIN_VALUE;if(e.equals(Long.MIN_VALUE))return Long.ONE;var t=this.shiftRight(1),n=t.div(e).shiftLeft(1);if(n.equals(Long.ZERO))return e.isNegative()?Long.ONE:Long.NEG_ONE;var i=this.subtract(e.multiply(n)),o=n.add(i.div(e));return o}if(e.equals(Long.MIN_VALUE))return Long.ZERO;if(this.isNegative())return e.isNegative()?this.negate().div(e.negate()):this.negate().div(e).negate();if(e.isNegative())return this.div(e.negate()).negate();var r=Long.ZERO;for(i=this;i.greaterThanOrEqual(e);){n=_Mathmax(1,_Mathfloor(i.toNumber()/e.toNumber()));for(var s=Math.ceil(_Mathlog(n)/_MathLN),_=48>=s?1:_Mathpow(2,s-48),u=Long.fromNumber(n),f=u.multiply(e);f.isNegative()||f.greaterThan(i);)n-=_,u=Long.fromNumber(n),f=u.multiply(e);u.isZero()&&(u=Long.ONE),r=r.add(u),i=i.subtract(f)}return r},Long.prototype.modulo=function(e){return this.subtract(this.div(e).multiply(e))},Long.prototype.not=function(){return Long.fromBits(~this.low_,~this.high_)},Long.prototype.and=function(e){return Long.fromBits(this.low_&e.low_,this.high_&e.high_)},Long.prototype.or=function(e){return Long.fromBits(this.low_|e.low_,this.high_|e.high_)},Long.prototype.xor=function(e){return Long.fromBits(this.low_^e.low_,this.high_^e.high_)},Long.prototype.shiftLeft=function(e){if(e&=63,0===e)return this;var t=this.low_;if(32>e){var n=this.high_;return Long.fromBits(t<<e,n<<e|t>>>32-e)}return Long.fromBits(0,t<<e-32)},Long.prototype.shiftRight=function(e){if(e&=63,0===e)return this;var t=this.high_;if(32>e){var n=this.low_;return Long.fromBits(n>>>e|t<<32-e,t>>e)}return Long.fromBits(t>>e-32,0<=t?0:-1)},Long.prototype.shiftRightUnsigned=function(e){if(e&=63,0===e)return this;var t=this.high_;if(32>e){var n=this.low_;return Long.fromBits(n>>>e|t<<32-e,t>>>e)}return 32===e?Long.fromBits(t,0):Long.fromBits(t>>>e-32,0)},Long.fromInt=function(e){if(-128<=e&&128>e){var t=Long.INT_CACHE_[e];if(t)return t}var n=new Long(0|e,0>e?-1:0);return-128<=e&&128>e&&(Long.INT_CACHE_[e]=n),n},Long.fromNumber=function(e){return isNaN(e)||!isFinite(e)?Long.ZERO:e<=-Long.TWO_PWR_63_DBL_?Long.MIN_VALUE:e+1>=Long.TWO_PWR_63_DBL_?Long.MAX_VALUE:0>e?Long.fromNumber(-e).negate():new Long(0|e%Long.TWO_PWR_32_DBL_,0|e/Long.TWO_PWR_32_DBL_)},Long.fromBits=function(e,t){return new Long(e,t)},Long.fromString=function(e,t){if(0===e.length)throw Error("number format error: empty string");var n=t||10;if(2>n||36<n)throw Error("radix out of range: "+n);if("-"===e.charAt(0))return Long.fromString(e.substring(1),n).negate();if(0<=e.indexOf("-"))throw Error("number format error: interior \"-\" character: "+e);for(var o=Long.fromNumber(_Mathpow(n,8)),r=Long.ZERO,s=0;s<e.length;s+=8){var _=_Mathmin(8,e.length-s),u=parseInt(e.substring(s,s+_),n);if(8>_){var f=Long.fromNumber(_Mathpow(n,_));r=r.multiply(f).add(Long.fromNumber(u))}else r=r.multiply(o),r=r.add(Long.fromNumber(u))}return r},Long.INT_CACHE_={},Long.TWO_PWR_16_DBL_=65536,Long.TWO_PWR_24_DBL_=16777216,Long.TWO_PWR_32_DBL_=Long.TWO_PWR_16_DBL_*Long.TWO_PWR_16_DBL_,Long.TWO_PWR_31_DBL_=Long.TWO_PWR_32_DBL_/2,Long.TWO_PWR_48_DBL_=Long.TWO_PWR_32_DBL_*Long.TWO_PWR_16_DBL_,Long.TWO_PWR_64_DBL_=Long.TWO_PWR_32_DBL_*Long.TWO_PWR_32_DBL_,Long.TWO_PWR_63_DBL_=Long.TWO_PWR_64_DBL_/2,Long.ZERO=Long.fromInt(0),Long.ONE=Long.fromInt(1),Long.NEG_ONE=Long.fromInt(-1),Long.MAX_VALUE=Long.fromBits(-1,2147483647),Long.MIN_VALUE=Long.fromBits(0,-2147483648),Long.TWO_PWR_24_=Long.fromInt(16777216);var long_1=Long,Long_1=Long;long_1.Long=Long_1,Double.prototype.valueOf=function(){return this.value},Double.prototype.toJSON=function(){return this.value};var double_1=Double,Double_1=Double;double_1.Double=Double_1,Timestamp.prototype=Object.create(long_1.prototype),Timestamp.prototype.constructor=Timestamp,Timestamp.prototype.toJSON=function(){return{$timestamp:this.toString()}},Timestamp.fromInt=function(e){return new Timestamp(long_1.fromInt(e))},Timestamp.fromNumber=function(e){return new Timestamp(long_1.fromNumber(e))},Timestamp.fromBits=function(e,t){return new Timestamp(e,t)},Timestamp.fromString=function(e,t){return new Timestamp(long_1.fromString(e,t))};var timestamp=Timestamp,Timestamp_1=Timestamp;timestamp.Timestamp=Timestamp_1;var _endianness,tmpdir=tmpDir,EOL="\n",os={EOL:EOL,tmpdir:tmpdir,tmpDir:tmpDir,networkInterfaces:networkInterfaces,getNetworkInterfaces:getNetworkInterfaces,release:release,type:type,cpus:cpus,totalmem:totalmem,freemem:freemem,uptime:uptime,loadavg:loadavg,hostname:hostname,endianness:endianness},os$1=Object.freeze({endianness:endianness,hostname:hostname,loadavg:loadavg,uptime:uptime,freemem:freemem,totalmem:totalmem,cpus:cpus,type:type,release:release,networkInterfaces:networkInterfaces,getNetworkInterfaces:getNetworkInterfaces,arch:arch,platform:platform,tmpDir:tmpDir,tmpdir:tmpdir,EOL:EOL,default:os}),MASK_8=255,MASK_24=16777215,MASK_32=4294967295,FNV_PRIME=new long_1(16777619,0),OFFSET_BASIS=new long_1(2166136261,0),FNV_MASK=new long_1(MASK_32,0),fnv1a={fnv1a24:fnv1a24,fnv1a32:fnv1a32},require$$0=os$1&&os||os$1,hostname$1=require$$0.hostname,fnv1a24$1=fnv1a.fnv1a24,MACHINE_ID=fnv1a24$1(hostname$1),checkForHexRegExp=/^[0-9a-fA-F]{24}$/,hasBufferType=!1;try{Buffer&&Buffer.from&&(hasBufferType=!0)}catch(e){hasBufferType=!1}for(var hexTable=[],i=0;256>i;i++)hexTable[i]=(15>=i?"0":"")+i.toString(16);ObjectID.prototype.toHexString=function(){if(ObjectID.cacheHexString&&this.__id)return this.__id;var e="";if(!this.id||!this.id.length)throw new TypeError("invalid ObjectId, ObjectId.id must be either a string or a Buffer, but is ["+JSON.stringify(this.id)+"]");if(this.id instanceof _Buffer)return e=convertToHex(this.id),ObjectID.cacheHexString&&(this.__id=e),e;for(var t=0;t<this.id.length;t++)e+=hexTable[this.id.charCodeAt(t)];return ObjectID.cacheHexString&&(this.__id=e),e},ObjectID.prototype.get_inc=function(){return ObjectID.index=(ObjectID.index+1)%16777215},ObjectID.prototype.getInc=function(){return this.get_inc()},ObjectID.prototype.generate=function(e){"number"!=typeof e&&(e=~~(Date.now()/1e3));var t=("undefined"==typeof process||1===process.pid?_Mathfloor(1e5*Math.random()):process.pid)%65535,n=this.get_inc(),i=new Buffer(12);return i[3]=255&e,i[2]=255&e>>8,i[1]=255&e>>16,i[0]=255&e>>24,i[6]=255&MACHINE_ID,i[5]=255&MACHINE_ID>>8,i[4]=255&MACHINE_ID>>16,i[8]=255&t,i[7]=255&t>>8,i[11]=255&n,i[10]=255&n>>8,i[9]=255&n>>16,i},ObjectID.prototype.toString=function(e){return this.id&&this.id.copy?this.id.toString("string"==typeof e?e:"hex"):this.toHexString()},ObjectID.prototype.inspect=ObjectID.prototype.toString,ObjectID.prototype.toJSON=function(){return this.toHexString()},ObjectID.prototype.equals=function(e){return e instanceof ObjectID?this.toString()===e.toString():"string"==typeof e&&ObjectID.isValid(e)&&12===e.length&&this.id instanceof _Buffer?e===this.id.toString("binary"):"string"==typeof e&&ObjectID.isValid(e)&&24===e.length?e.toLowerCase()===this.toHexString():"string"==typeof e&&ObjectID.isValid(e)&&12===e.length?e===this.id:!!(null!=e&&(e instanceof ObjectID||e.toHexString))&&e.toHexString()===this.toHexString()},ObjectID.prototype.getTimestamp=function(){var e=new Date,t=this.id[3]|this.id[2]<<8|this.id[1]<<16|this.id[0]<<24;return e.setTime(1e3*_Mathfloor(t)),e},ObjectID.index=~~(16777215*Math.random()),ObjectID.createPk=function(){return new ObjectID},ObjectID.createFromTime=function(e){var t=new Buffer([0,0,0,0,0,0,0,0,0,0,0,0]);return t[3]=255&e,t[2]=255&e>>8,t[1]=255&e>>16,t[0]=255&e>>24,new ObjectID(t)};var decodeLookup=[];for(i=0;10>i;)decodeLookup[48+i]=i++;for(;16>i;)decodeLookup[55+i]=decodeLookup[87+i]=i++;var _Buffer=Buffer,convertToHex=function(e){return e.toString("hex")};ObjectID.createFromHexString=function(e){if("undefined"==typeof e||null!=e&&24!==e.length)throw new TypeError("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");if(hasBufferType)return new ObjectID(new Buffer(e,"hex"));for(var t=new _Buffer(12),o=0,r=0;24>r;)t[o++]=decodeLookup[e.charCodeAt(r++)]<<4|decodeLookup[e.charCodeAt(r++)];return new ObjectID(t)},ObjectID.isValid=function(e){return null!=e&&(!("number"!=typeof e)||("string"==typeof e?12===e.length||24===e.length&&checkForHexRegExp.test(e):!!(e instanceof ObjectID)||!!(e instanceof _Buffer)||!!e.toHexString&&(12===e.id.length||24===e.id.length&&checkForHexRegExp.test(e.id))))},Object.defineProperty(ObjectID.prototype,"generationTime",{enumerable:!0,get:function(){return this.id[3]|this.id[2]<<8|this.id[1]<<16|this.id[0]<<24},set:function(e){this.id[3]=255&e,this.id[2]=255&e>>8,this.id[1]=255&e>>16,this.id[0]=255&e>>24}});var objectid=ObjectID,ObjectID_1=ObjectID,ObjectId=ObjectID;objectid.ObjectID=ObjectID_1,objectid.ObjectId=ObjectId;var regexp=BSONRegExp,BSONRegExp_1=BSONRegExp;regexp.BSONRegExp=BSONRegExp_1,_Symbol.prototype.valueOf=function(){return this.value},_Symbol.prototype.toString=function(){return this.value},_Symbol.prototype.inspect=function(){return this.value},_Symbol.prototype.toJSON=function(){return this.value};var symbol=_Symbol,Symbol_1=_Symbol;symbol.Symbol=Symbol_1,Int32.prototype.valueOf=function(){return this.value},Int32.prototype.toJSON=function(){return this.value};var int_32=Int32,Int32_1=Int32;int_32.Int32=Int32_1,Code.prototype.toJSON=function(){return{scope:this.scope,code:this.code}};var code=Code,Code_1=Code;code.Code=Code_1;var PARSE_STRING_REGEXP=/^(\+|-)?(\d+|(\d*\.\d*))?(E|e)?([-+])?(\d+)?$/,PARSE_INF_REGEXP=/^(\+|-)?(Infinity|inf)$/i,PARSE_NAN_REGEXP=/^(\+|-)?NaN$/i,EXPONENT_MAX=6111,EXPONENT_MIN=-6176,EXPONENT_BIAS=6176,MAX_DIGITS=34,NAN_BUFFER=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,124],INF_NEGATIVE_BUFFER=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,248],INF_POSITIVE_BUFFER=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,120],EXPONENT_REGEX=/^([-+])?(\d+)?$/,isDigit=function(e){return!isNaN(parseInt(e,10))},divideu128=function(e){var t=long_1.fromNumber(1000000000),n=long_1.fromNumber(0);if(!e.parts[0]&&!e.parts[1]&&!e.parts[2]&&!e.parts[3])return{quotient:e,rem:n};for(var o=0;3>=o;o++)n=n.shiftLeft(32),n=n.add(new long_1(e.parts[o],0)),e.parts[o]=n.div(t).low_,n=n.modulo(t);return{quotient:e,rem:n}},multiply64x2=function(e,t){if(!e&&!t)return{high:long_1.fromNumber(0),low:long_1.fromNumber(0)};var n=e.shiftRightUnsigned(32),i=new long_1(e.getLowBits(),0),o=t.shiftRightUnsigned(32),r=new long_1(t.getLowBits(),0),s=n.multiply(o),_=n.multiply(r),u=i.multiply(o),f=i.multiply(r);return s=s.add(_.shiftRightUnsigned(32)),_=new long_1(_.getLowBits(),0).add(u).add(f.shiftRightUnsigned(32)),s=s.add(_.shiftRightUnsigned(32)),f=_.shiftLeft(32).add(new long_1(f.getLowBits(),0)),{high:s,low:f}},lessThan=function(e,t){var n=e.high_>>>0,i=t.high_>>>0;if(n<i)return!0;if(n===i){var o=e.low_>>>0,r=t.low_>>>0;if(o<r)return!0}return!1},invalidErr=function(e,t){throw new TypeError("\"${string}\" not a valid Decimal128 string - "+t)};Decimal128.fromString=function(t){var n=!1,o=!1,r=!1,s=0,_=0,u=0,f=0,a=0,l=[0],d=0,p=0,g=0,h=0,y=0,b=0,N=[0,0],A=[0,0],B=0,c=0;if(7e3<=t.length)throw new TypeError(""+t+" not a valid Decimal128 string");var m=t.match(PARSE_STRING_REGEXP),S=t.match(PARSE_INF_REGEXP),O=t.match(PARSE_NAN_REGEXP);if(!m&&!S&&!O||0===t.length)throw new TypeError(""+t+" not a valid Decimal128 string");if(m){var T=m[2],E=m[4],e=m[5],D=m[6];E&&void 0===D&&invalidErr(t,"missing exponent power"),E&&void 0===T&&invalidErr(t,"missing exponent base"),void 0===E&&(e||D)&&invalidErr(t,"missing e before exponent")}if(("+"===t[c]||"-"===t[c])&&(n="-"===t[c++]),!isDigit(t[c])&&"."!==t[c]){if("i"===t[c]||"I"===t[c])return new Decimal128(new Buffer(n?INF_NEGATIVE_BUFFER:INF_POSITIVE_BUFFER));if("N"===t[c])return new Decimal128(new Buffer(NAN_BUFFER))}for(;isDigit(t[c])||"."===t[c];){if("."===t[c]){o&&invalidErr(t,"contains multiple periods"),o=!0,++c;continue}34>d&&("0"!==t[c]||r)&&(!r&&(a=_),r=!0,l[p++]=parseInt(t[c],10),++d),r&&++u,o&&++f,++_,++c}if(o&&!_)throw new TypeError(""+t+" not a valid Decimal128 string");if("e"===t[c]||"E"===t[c]){var I=t.substr(++c).match(EXPONENT_REGEX);if(!I||!I[2])return new Decimal128(new Buffer(NAN_BUFFER));y=parseInt(I[0],10),c+=I[0].length}if(t[c])return new Decimal128(new Buffer(NAN_BUFFER));if(g=0,!d)g=0,h=0,l[0]=0,u=1,d=1,s=0;else if(h=d-1,s=u,1!==s)for(;"0"===t[a+s-1];)--s;for(y<=f&&16384<f-y?y=EXPONENT_MIN:y-=f;y>EXPONENT_MAX;){if(++h,h-g>MAX_DIGITS){var R=l.join("");if(R.match(/^0+$/)){y=EXPONENT_MAX;break}invalidErr(t,"overflow")}--y}for(;y<EXPONENT_MIN||d<u;){if(0===h&&s<d){y=EXPONENT_MIN,s=0;break}if(d<u?--u:--h,y<EXPONENT_MAX)++y;else{if(R=l.join(""),R.match(/^0+$/)){y=EXPONENT_MAX;break}invalidErr(t,"overflow")}}if(h-g+1<s){var w=_;o&&(++a,++w),n&&(++a,++w);var L=parseInt(t[a+h+1],10),U=0;if(5<=L&&(U=1,5===L))for(U=1==l[h]%2,b=a+h+2;b<w;b++)if(parseInt(t[b],10)){U=1;break}if(U)for(var x=h;0<=x;x--)if(9<++l[x]&&(l[x]=0,0===x))if(y<EXPONENT_MAX)++y,l[x]=1;else return new Decimal128(new Buffer(n?INF_NEGATIVE_BUFFER:INF_POSITIVE_BUFFER))}if(N=long_1.fromNumber(0),A=long_1.fromNumber(0),0===s)N=long_1.fromNumber(0),A=long_1.fromNumber(0);else if(17>h-g)for(x=g,A=long_1.fromNumber(l[x++]),N=new long_1(0,0);x<=h;x++)A=A.multiply(long_1.fromNumber(10)),A=A.add(long_1.fromNumber(l[x]));else{for(x=g,N=long_1.fromNumber(l[x++]);x<=h-17;x++)N=N.multiply(long_1.fromNumber(10)),N=N.add(long_1.fromNumber(l[x]));for(A=long_1.fromNumber(l[x++]);x<=h;x++)A=A.multiply(long_1.fromNumber(10)),A=A.add(long_1.fromNumber(l[x]))}var P=multiply64x2(N,long_1.fromString("100000000000000000"));P.low=P.low.add(A),lessThan(P.low,A)&&(P.high=P.high.add(long_1.fromNumber(1))),B=y+EXPONENT_BIAS;var Y={low:long_1.fromNumber(0),high:long_1.fromNumber(0)};P.high.shiftRightUnsigned(49).and(long_1.fromNumber(1)).equals(long_1.fromNumber)?(Y.high=Y.high.or(long_1.fromNumber(3).shiftLeft(61)),Y.high=Y.high.or(long_1.fromNumber(B).and(long_1.fromNumber(16383).shiftLeft(47))),Y.high=Y.high.or(P.high.and(long_1.fromNumber(0x7fffffffffff)))):(Y.high=Y.high.or(long_1.fromNumber(16383&B).shiftLeft(49)),Y.high=Y.high.or(P.high.and(long_1.fromNumber(562949953421311)))),Y.low=P.low,n&&(Y.high=Y.high.or(long_1.fromString("9223372036854775808")));var M=new Buffer(16);return c=0,M[c++]=255&Y.low.low_,M[c++]=255&Y.low.low_>>8,M[c++]=255&Y.low.low_>>16,M[c++]=255&Y.low.low_>>24,M[c++]=255&Y.low.high_,M[c++]=255&Y.low.high_>>8,M[c++]=255&Y.low.high_>>16,M[c++]=255&Y.low.high_>>24,M[c++]=255&Y.high.low_,M[c++]=255&Y.high.low_>>8,M[c++]=255&Y.high.low_>>16,M[c++]=255&Y.high.low_>>24,M[c++]=255&Y.high.high_,M[c++]=255&Y.high.high_>>8,M[c++]=255&Y.high.high_>>16,M[c++]=255&Y.high.high_>>24,new Decimal128(M)};var COMBINATION_MASK=31,EXPONENT_MASK=16383,COMBINATION_INFINITY=30,COMBINATION_NAN=31;EXPONENT_BIAS=6176,Decimal128.prototype.toString=function(){for(var e,t,n,o,r,s,_=0,u=Array(36),f=0;f<u.length;f++)u[f]=0;var a,l,d,p,g,h=0,y=!1,b={parts:[,,,,]},N=[];h=0;var A=this.bytes;o=A[h++]|A[h++]<<8|A[h++]<<16|A[h++]<<24,n=A[h++]|A[h++]<<8|A[h++]<<16|A[h++]<<24,t=A[h++]|A[h++]<<8|A[h++]<<16|A[h++]<<24,e=A[h++]|A[h++]<<8|A[h++]<<16|A[h++]<<24,h=0;var B={low:new long_1(o,n),high:new long_1(t,e)};if(B.high.lessThan(long_1.ZERO)&&N.push("-"),r=31&e>>26,3==r>>3){if(r===COMBINATION_INFINITY)return N.join("")+"Infinity";if(r===COMBINATION_NAN)return"NaN";s=e>>15&EXPONENT_MASK,d=8+(1&e>>14)}else d=7&e>>14,s=e>>17&EXPONENT_MASK;if(a=s-EXPONENT_BIAS,b.parts[0]=(16383&e)+((15&d)<<14),b.parts[1]=t,b.parts[2]=n,b.parts[3]=o,0===b.parts[0]&&0===b.parts[1]&&0===b.parts[2]&&0===b.parts[3])y=!0;else for(g=3;0<=g;g--){var c=0,m=divideu128(b);if(b=m.quotient,c=m.rem.low_,c)for(p=8;0<=p;p--)u[9*g+p]=c%10,c=_Mathfloor(c/10)}if(y)_=1,u[h]=0;else for(_=36,f=0;!u[h];)f++,--_,++h;if(l=_-1+a,34<=l||-7>=l||0<a){if(34<_)return N.push(0),0<a?N.push("E+"+a):0>a&&N.push("E"+a),N.join("");for(N.push(u[h++]),--_,_&&N.push("."),f=0;f<_;f++)N.push(u[h++]);N.push("E"),0<l?N.push("+"+l):N.push(l)}else if(0<=a)for(f=0;f<_;f++)N.push(u[h++]);else{var S=_+a;if(0<S)for(f=0;f<S;f++)N.push(u[h++]);else N.push("0");for(N.push(".");0>S++;)N.push("0");for(f=0;f<_-_Mathmax(S-1,0);f++)N.push(u[h++])}return N.join("")},Decimal128.prototype.toJSON=function(){return{$numberDecimal:this.toString()}};var decimal128=Decimal128,Decimal128_1=Decimal128;decimal128.Decimal128=Decimal128_1;var min_key=MinKey,MinKey_1=MinKey;min_key.MinKey=MinKey_1;var max_key=MaxKey,MaxKey_1=MaxKey;max_key.MaxKey=MaxKey_1,DBRef.prototype.toJSON=function(){var e={$ref:this.collection,$id:this.oid};return null!=this.db&&(e.$db=this.db),e=Object.assign(e,this.fields),e};var db_ref=DBRef,DBRef_1=DBRef;db_ref.DBRef=DBRef_1;var lookup=[],revLookup=[],Arr="undefined"==typeof Uint8Array?Array:Uint8Array,inited=!1,toString={}.toString,isArray=Array.isArray||function(e){return"[object Array]"==toString.call(e)},INSPECT_MAX_BYTES=50;Buffer$1.TYPED_ARRAY_SUPPORT=!(global.TYPED_ARRAY_SUPPORT!==void 0)||global.TYPED_ARRAY_SUPPORT;var _kMaxLength=kMaxLength();Buffer$1.poolSize=8192,Buffer$1._augment=function(e){return e.__proto__=Buffer$1.prototype,e},Buffer$1.from=function(e,t,n){return from(null,e,t,n)},Buffer$1.TYPED_ARRAY_SUPPORT&&(Buffer$1.prototype.__proto__=Uint8Array.prototype,Buffer$1.__proto__=Uint8Array),Buffer$1.alloc=function(e,t,n){return alloc(null,e,t,n)},Buffer$1.allocUnsafe=function(e){return allocUnsafe(null,e)},Buffer$1.allocUnsafeSlow=function(e){return allocUnsafe(null,e)},Buffer$1.isBuffer=isBuffer,Buffer$1.compare=function(e,t){if(!internalIsBuffer(e)||!internalIsBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,o=t.length,r=0,s=_Mathmin(n,o);r<s;++r)if(e[r]!==t[r]){n=e[r],o=t[r];break}return n<o?-1:o<n?1:0},Buffer$1.isEncoding=function(e){switch((e+"").toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1;}},Buffer$1.concat=function(e,t){if(!isArray(e))throw new TypeError("\"list\" argument must be an Array of Buffers");if(0===e.length)return Buffer$1.alloc(0);var n;if(t===void 0)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var o=Buffer$1.allocUnsafe(t),r=0;for(n=0;n<e.length;++n){var s=e[n];if(!internalIsBuffer(s))throw new TypeError("\"list\" argument must be an Array of Buffers");s.copy(o,r),r+=s.length}return o},Buffer$1.byteLength=byteLength,Buffer$1.prototype._isBuffer=!0,Buffer$1.prototype.swap16=function(){var e=this.length;if(0!=e%2)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)swap(this,t,t+1);return this},Buffer$1.prototype.swap32=function(){var e=this.length;if(0!=e%4)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)swap(this,t,t+3),swap(this,t+1,t+2);return this},Buffer$1.prototype.swap64=function(){var e=this.length;if(0!=e%8)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)swap(this,t,t+7),swap(this,t+1,t+6),swap(this,t+2,t+5),swap(this,t+3,t+4);return this},Buffer$1.prototype.toString=function(){var e=0|this.length;return 0==e?"":0===arguments.length?utf8Slice(this,0,e):slowToString.apply(this,arguments)},Buffer$1.prototype.equals=function(e){if(!internalIsBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===Buffer$1.compare(this,e)},Buffer$1.prototype.inspect=function(){var e="",t=INSPECT_MAX_BYTES;return 0<this.length&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},Buffer$1.prototype.compare=function(e,t,n,o,r){if(!internalIsBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===o&&(o=0),void 0===r&&(r=this.length),0>t||n>e.length||0>o||r>this.length)throw new RangeError("out of range index");if(o>=r&&t>=n)return 0;if(o>=r)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,o>>>=0,r>>>=0,this===e)return 0;for(var s=r-o,_=n-t,u=_Mathmin(s,_),f=this.slice(o,r),a=e.slice(t,n),l=0;l<u;++l)if(f[l]!==a[l]){s=f[l],_=a[l];break}return s<_?-1:_<s?1:0},Buffer$1.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},Buffer$1.prototype.indexOf=function(e,t,n){return bidirectionalIndexOf(this,e,t,n,!0)},Buffer$1.prototype.lastIndexOf=function(e,t,n){return bidirectionalIndexOf(this,e,t,n,!1)},Buffer$1.prototype.write=function(e,t,n,i){if(void 0===t)i="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)i=t,n=this.length,t=0;else if(isFinite(t))t|=0,isFinite(n)?(n|=0,void 0===i&&(i="utf8")):(i=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var o=this.length-t;if((void 0===n||n>o)&&(n=o),0<e.length&&(0>n||0>t)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var r=!1;;)switch(i){case"hex":return hexWrite(this,e,t,n);case"utf8":case"utf-8":return utf8Write(this,e,t,n);case"ascii":return asciiWrite(this,e,t,n);case"latin1":case"binary":return latin1Write(this,e,t,n);case"base64":return base64Write(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,e,t,n);default:if(r)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),r=!0;}},Buffer$1.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var MAX_ARGUMENTS_LENGTH=4096;Buffer$1.prototype.slice=function(e,t){var n=this.length;e=~~e,t=t===void 0?n:~~t,0>e?(e+=n,0>e&&(e=0)):e>n&&(e=n),0>t?(t+=n,0>t&&(t=0)):t>n&&(t=n),t<e&&(t=e);var o;if(Buffer$1.TYPED_ARRAY_SUPPORT)o=this.subarray(e,t),o.__proto__=Buffer$1.prototype;else{var r=t-e;o=new Buffer$1(r,void 0);for(var s=0;s<r;++s)o[s]=this[s+e]}return o},Buffer$1.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||checkOffset(e,t,this.length);for(var o=this[e],r=1,s=0;++s<t&&(r*=256);)o+=this[e+s]*r;return o},Buffer$1.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||checkOffset(e,t,this.length);for(var i=this[e+--t],o=1;0<t&&(o*=256);)i+=this[e+--t]*o;return i},Buffer$1.prototype.readUInt8=function(e,t){return t||checkOffset(e,1,this.length),this[e]},Buffer$1.prototype.readUInt16LE=function(e,t){return t||checkOffset(e,2,this.length),this[e]|this[e+1]<<8},Buffer$1.prototype.readUInt16BE=function(e,t){return t||checkOffset(e,2,this.length),this[e]<<8|this[e+1]},Buffer$1.prototype.readUInt32LE=function(e,t){return t||checkOffset(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},Buffer$1.prototype.readUInt32BE=function(e,t){return t||checkOffset(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},Buffer$1.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||checkOffset(e,t,this.length);for(var o=this[e],r=1,s=0;++s<t&&(r*=256);)o+=this[e+s]*r;return r*=128,o>=r&&(o-=_Mathpow(2,8*t)),o},Buffer$1.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||checkOffset(e,t,this.length);for(var o=t,r=1,s=this[e+--o];0<o&&(r*=256);)s+=this[e+--o]*r;return r*=128,s>=r&&(s-=_Mathpow(2,8*t)),s},Buffer$1.prototype.readInt8=function(e,t){return t||checkOffset(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},Buffer$1.prototype.readInt16LE=function(e,t){t||checkOffset(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},Buffer$1.prototype.readInt16BE=function(e,t){t||checkOffset(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},Buffer$1.prototype.readInt32LE=function(e,t){return t||checkOffset(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},Buffer$1.prototype.readInt32BE=function(e,t){return t||checkOffset(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},Buffer$1.prototype.readFloatLE=function(e,t){return t||checkOffset(e,4,this.length),read(this,e,!0,23,4)},Buffer$1.prototype.readFloatBE=function(e,t){return t||checkOffset(e,4,this.length),read(this,e,!1,23,4)},Buffer$1.prototype.readDoubleLE=function(e,t){return t||checkOffset(e,8,this.length),read(this,e,!0,52,8)},Buffer$1.prototype.readDoubleBE=function(e,t){return t||checkOffset(e,8,this.length),read(this,e,!1,52,8)},Buffer$1.prototype.writeUIntLE=function(e,t,n,o){if(e=+e,t|=0,n|=0,!o){var r=_Mathpow(2,8*n)-1;checkInt(this,e,t,n,r,0)}var s=1,_=0;for(this[t]=255&e;++_<n&&(s*=256);)this[t+_]=255&e/s;return t+n},Buffer$1.prototype.writeUIntBE=function(e,t,n,o){if(e=+e,t|=0,n|=0,!o){var r=_Mathpow(2,8*n)-1;checkInt(this,e,t,n,r,0)}var s=n-1,_=1;for(this[t+s]=255&e;0<=--s&&(_*=256);)this[t+s]=255&e/_;return t+n},Buffer$1.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||checkInt(this,e,t,1,255,0),Buffer$1.TYPED_ARRAY_SUPPORT||(e=_Mathfloor(e)),this[t]=255&e,t+1},Buffer$1.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||checkInt(this,e,t,2,65535,0),Buffer$1.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):objectWriteUInt16(this,e,t,!0),t+2},Buffer$1.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||checkInt(this,e,t,2,65535,0),Buffer$1.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):objectWriteUInt16(this,e,t,!1),t+2},Buffer$1.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||checkInt(this,e,t,4,4294967295,0),Buffer$1.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):objectWriteUInt32(this,e,t,!0),t+4},Buffer$1.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||checkInt(this,e,t,4,4294967295,0),Buffer$1.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):objectWriteUInt32(this,e,t,!1),t+4},Buffer$1.prototype.writeIntLE=function(e,t,n,o){if(e=+e,t|=0,!o){var r=_Mathpow(2,8*n-1);checkInt(this,e,t,n,r-1,-r)}var s=0,_=1,u=0;for(this[t]=255&e;++s<n&&(_*=256);)0>e&&0===u&&0!==this[t+s-1]&&(u=1),this[t+s]=255&(e/_>>0)-u;return t+n},Buffer$1.prototype.writeIntBE=function(e,t,n,o){if(e=+e,t|=0,!o){var r=_Mathpow(2,8*n-1);checkInt(this,e,t,n,r-1,-r)}var s=n-1,_=1,u=0;for(this[t+s]=255&e;0<=--s&&(_*=256);)0>e&&0===u&&0!==this[t+s+1]&&(u=1),this[t+s]=255&(e/_>>0)-u;return t+n},Buffer$1.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||checkInt(this,e,t,1,127,-128),Buffer$1.TYPED_ARRAY_SUPPORT||(e=_Mathfloor(e)),0>e&&(e=255+e+1),this[t]=255&e,t+1},Buffer$1.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||checkInt(this,e,t,2,32767,-32768),Buffer$1.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):objectWriteUInt16(this,e,t,!0),t+2},Buffer$1.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||checkInt(this,e,t,2,32767,-32768),Buffer$1.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):objectWriteUInt16(this,e,t,!1),t+2},Buffer$1.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||checkInt(this,e,t,4,2147483647,-2147483648),Buffer$1.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):objectWriteUInt32(this,e,t,!0),t+4},Buffer$1.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||checkInt(this,e,t,4,2147483647,-2147483648),0>e&&(e=4294967295+e+1),Buffer$1.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):objectWriteUInt32(this,e,t,!1),t+4},Buffer$1.prototype.writeFloatLE=function(e,t,n){return writeFloat(this,e,t,!0,n)},Buffer$1.prototype.writeFloatBE=function(e,t,n){return writeFloat(this,e,t,!1,n)},Buffer$1.prototype.writeDoubleLE=function(e,t,n){return writeDouble(this,e,t,!0,n)},Buffer$1.prototype.writeDoubleBE=function(e,t,n){return writeDouble(this,e,t,!1,n)},Buffer$1.prototype.copy=function(e,t,n,o){if(n||(n=0),o||0===o||(o=this.length),t>=e.length&&(t=e.length),t||(t=0),0<o&&o<n&&(o=n),o===n)return 0;if(0===e.length||0===this.length)return 0;if(0>t)throw new RangeError("targetStart out of bounds");if(0>n||n>=this.length)throw new RangeError("sourceStart out of bounds");if(0>o)throw new RangeError("sourceEnd out of bounds");o>this.length&&(o=this.length),e.length-t<o-n&&(o=e.length-t+n);var r,s=o-n;if(this===e&&n<t&&t<o)for(r=s-1;0<=r;--r)e[r+t]=this[r+n];else if(1e3>s||!Buffer$1.TYPED_ARRAY_SUPPORT)for(r=0;r<s;++r)e[r+t]=this[r+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+s),t);return s},Buffer$1.prototype.fill=function(e,t,n,o){if("string"==typeof e){if("string"==typeof t?(o=t,t=0,n=this.length):"string"==typeof n&&(o=n,n=this.length),1===e.length){var r=e.charCodeAt(0);256>r&&(e=r)}if(void 0!==o&&"string"!=typeof o)throw new TypeError("encoding must be a string");if("string"==typeof o&&!Buffer$1.isEncoding(o))throw new TypeError("Unknown encoding: "+o)}else"number"==typeof e&&(e&=255);if(0>t||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;t>>>=0,n=n===void 0?this.length:n>>>0,e||(e=0);var s;if("number"==typeof e)for(s=t;s<n;++s)this[s]=e;else{var _=internalIsBuffer(e)?e:utf8ToBytes(new Buffer$1(e,o).toString()),u=_.length;for(s=0;s<n-t;++s)this[s+t]=_[s%u]}return this};var INVALID_BASE64_RE=/[^+\/0-9A-Za-z-_]/g,bufferEs6=Object.freeze({INSPECT_MAX_BYTES:INSPECT_MAX_BYTES,kMaxLength:_kMaxLength,Buffer:Buffer$1,SlowBuffer:SlowBuffer,isBuffer:isBuffer});if("undefined"!=typeof commonjsGlobal)var Buffer$2=bufferEs6.Buffer;Binary.prototype.put=function(e){if(null!=e.length&&"number"!=typeof e&&1!==e.length)throw new TypeError("only accepts single character String, Uint8Array or Array");if("number"!=typeof e&&0>e||255<e)throw new TypeError("only accepts number in a valid unsigned byte range 0-255");var t=null;if(t="string"==typeof e?e.charCodeAt(0):null==e.length?e:e[0],this.buffer.length>this.position)this.buffer[this.position++]=t;else if("undefined"!=typeof Buffer$2&&Buffer$2.isBuffer(this.buffer)){var n=new Buffer$2(Binary.BUFFER_SIZE+this.buffer.length);this.buffer.copy(n,0,0,this.buffer.length),this.buffer=n,this.buffer[this.position++]=t}else{n=null,n="[object Uint8Array]"===Object.prototype.toString.call(this.buffer)?new Uint8Array(new ArrayBuffer(Binary.BUFFER_SIZE+this.buffer.length)):Array(Binary.BUFFER_SIZE+this.buffer.length);for(var o=0;o<this.buffer.length;o++)n[o]=this.buffer[o];this.buffer=n,this.buffer[this.position++]=t}},Binary.prototype.write=function(e,t){if(t="number"==typeof t?t:this.position,this.buffer.length<t+e.length){var n=null;if("undefined"!=typeof Buffer$2&&Buffer$2.isBuffer(this.buffer))n=new Buffer$2(this.buffer.length+e.length),this.buffer.copy(n,0,0,this.buffer.length);else if("[object Uint8Array]"===Object.prototype.toString.call(this.buffer)){n=new Uint8Array(new ArrayBuffer(this.buffer.length+e.length));for(var o=0;o<this.position;o++)n[o]=this.buffer[o]}this.buffer=n}if("undefined"!=typeof Buffer$2&&Buffer$2.isBuffer(e)&&Buffer$2.isBuffer(this.buffer))e.copy(this.buffer,t,0,e.length),this.position=t+e.length>this.position?t+e.length:this.position;else if("undefined"!=typeof Buffer$2&&"string"==typeof e&&Buffer$2.isBuffer(this.buffer))this.buffer.write(e,t,"binary"),this.position=t+e.length>this.position?t+e.length:this.position;else if("[object Uint8Array]"===Object.prototype.toString.call(e)||"[object Array]"===Object.prototype.toString.call(e)&&"string"!=typeof e){for(o=0;o<e.length;o++)this.buffer[t++]=e[o];this.position=t>this.position?t:this.position}else if("string"==typeof e){for(o=0;o<e.length;o++)this.buffer[t++]=e.charCodeAt(o);this.position=t>this.position?t:this.position}},Binary.prototype.read=function(e,t){if(t=t&&0<t?t:this.position,this.buffer.slice)return this.buffer.slice(e,e+t);for(var n="undefined"==typeof Uint8Array?Array(t):new Uint8Array(new ArrayBuffer(t)),o=0;o<t;o++)n[o]=this.buffer[e++];return n},Binary.prototype.value=function(e){if(e=null!=e&&e,e&&"undefined"!=typeof Buffer$2&&Buffer$2.isBuffer(this.buffer)&&this.buffer.length===this.position)return this.buffer;if("undefined"!=typeof Buffer$2&&Buffer$2.isBuffer(this.buffer))return e?this.buffer.slice(0,this.position):this.buffer.toString("binary",0,this.position);if(e){if(null!=this.buffer.slice)return this.buffer.slice(0,this.position);for(var t="[object Uint8Array]"===Object.prototype.toString.call(this.buffer)?new Uint8Array(new ArrayBuffer(this.position)):Array(this.position),n=0;n<this.position;n++)t[n]=this.buffer[n];return t}return convertArraytoUtf8BinaryString(this.buffer,0,this.position)},Binary.prototype.length=function(){return this.position},Binary.prototype.toJSON=function(){return null==this.buffer?"":this.buffer.toString("base64")},Binary.prototype.toString=function(e){return null==this.buffer?"":this.buffer.slice(0,this.position).toString(e)};var BSON_BINARY_SUBTYPE_DEFAULT=0,writeStringToArray=function(e){for(var t="undefined"==typeof Uint8Array?Array(e.length):new Uint8Array(new ArrayBuffer(e.length)),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t},convertArraytoUtf8BinaryString=function(e,t,n){for(var o="",r=t;r<n;r++)o+=_StringfromCharCode(e[r]);return o};Binary.BUFFER_SIZE=256,Binary.SUBTYPE_DEFAULT=0,Binary.SUBTYPE_FUNCTION=1,Binary.SUBTYPE_BYTE_ARRAY=2,Binary.SUBTYPE_UUID_OLD=3,Binary.SUBTYPE_UUID=4,Binary.SUBTYPE_MD5=5,Binary.SUBTYPE_USER_DEFINED=128;var binary=Binary,Binary_1=Binary;binary.Binary=Binary_1;var Long$1=long_1.Long,Double$1=double_1.Double,Timestamp$1=timestamp.Timestamp,ObjectID$1=objectid.ObjectID,Code$1=code.Code,MinKey$1=min_key.MinKey,MaxKey$1=max_key.MaxKey,DBRef$1=db_ref.DBRef,BSONRegExp$1=regexp.BSONRegExp,Binary$1=binary.Binary,deserialize=function(e,t,n){t=null==t?{}:t;var i=t&&t.index?t.index:0,o=e[i]|e[i+1]<<8|e[i+2]<<16|e[i+3]<<24;if(5>o)throw new Error("bson size must be >= 5, is "+o);if(t.allowObjectSmallerThanBufferSize&&e.length<o)throw new Error("buffer length "+e.length+" must be >= bson size "+o);if(!t.allowObjectSmallerThanBufferSize&&e.length!==o)throw new Error("buffer length "+e.length+" must === bson size "+o);if(o+i>e.length)throw new Error("(bson size "+o+" + options.index "+i+" must be <= buffer length "+e.length+")");if(0!==e[i+o-1])throw new Error("One object, sized correctly, with a spot for an EOO, but the EOO isn't 0x00");return deserializeObject(e,i,t,n)},deserializeObject=function e(t,o,r,_){var u=null!=r.evalFunctions&&r.evalFunctions,f=null!=r.cacheFunctions&&r.cacheFunctions,a=null!=r.cacheFunctionsCrc32&&r.cacheFunctionsCrc32;if(!a)var l=null;var d=null==r.fieldsAsRaw?null:r.fieldsAsRaw,p=null!=r.raw&&r.raw,g="boolean"==typeof r.bsonRegExp&&r.bsonRegExp,h=null!=r.promoteBuffers&&r.promoteBuffers,y=null==r.promoteLongs||r.promoteLongs,b=null==r.promoteValues||r.promoteValues,N=o;if(5>t.length)throw new Error("corrupt bson message < 5 bytes long");var A=t[o++]|t[o++]<<8|t[o++]<<16|t[o++]<<24;if(5>A||A>t.length)throw new Error("corrupt bson message");for(var B,c=_?[]:{},m=0;!!1&&(B=t[o++],0!==B);){for(var S=o;0!==t[S]&&S<t.length;)S++;if(S>=t.length)throw new Error("Bad BSON Document: illegal CString");var O=_?m++:t.toString("utf8",o,S);if(o=S+1,B===BSON.BSON_DATA_STRING){var T=t[o++]|t[o++]<<8|t[o++]<<16|t[o++]<<24;if(0>=T||T>t.length-o||0!==t[o+T-1])throw new Error("bad string length in bson");var E=t.toString("utf8",o,o+T-1);for(S=0;S<E.length;S++)if(65533===E.charCodeAt(S))throw new Error("Invalid UTF-8 string in BSON document");c[O]=E,o+=T}else if(B===BSON.BSON_DATA_OID){var s=new Buffer(12);t.copy(s,0,o,o+12),c[O]=new ObjectID$1(s),o+=12}else if(B===BSON.BSON_DATA_INT&&!1===b)c[O]=new int_32(t[o++]|t[o++]<<8|t[o++]<<16|t[o++]<<24);else if(B===BSON.BSON_DATA_INT)c[O]=t[o++]|t[o++]<<8|t[o++]<<16|t[o++]<<24;else if(B===BSON.BSON_DATA_NUMBER&&!1===b)c[O]=new Double$1(t.readDoubleLE(o)),o+=8;else if(B===BSON.BSON_DATA_NUMBER)c[O]=t.readDoubleLE(o),o+=8;else if(B===BSON.BSON_DATA_DATE){var D=t[o++]|t[o++]<<8|t[o++]<<16|t[o++]<<24,I=t[o++]|t[o++]<<8|t[o++]<<16|t[o++]<<24;c[O]=new Date(new Long$1(D,I).toNumber())}else if(B===BSON.BSON_DATA_BOOLEAN){if(0!==t[o]&&1!==t[o])throw new Error("illegal boolean type value");c[O]=1===t[o++]}else if(B===BSON.BSON_DATA_OBJECT){var R=o,w=t[o]|t[o+1]<<8|t[o+2]<<16|t[o+3]<<24;if(0>=w||w>t.length-o)throw new Error("bad embedded document length in bson");c[O]=p?t.slice(o,o+w):e(t,R,r,!1),o+=w}else if(B===BSON.BSON_DATA_ARRAY){R=o,w=t[o]|t[o+1]<<8|t[o+2]<<16|t[o+3]<<24;var L=r,U=o+w;if(d&&d[O]){for(var x in L={},r)L[x]=r[x];L.raw=!0}if(c[O]=e(t,R,L,!0),o+=w,0!==t[o-1])throw new Error("invalid array terminator byte");if(o!==U)throw new Error("corrupted array bson")}else if(B===BSON.BSON_DATA_UNDEFINED)c[O]=void 0;else if(B===BSON.BSON_DATA_NULL)c[O]=null;else if(B===BSON.BSON_DATA_LONG){D=t[o++]|t[o++]<<8|t[o++]<<16|t[o++]<<24,I=t[o++]|t[o++]<<8|t[o++]<<16|t[o++]<<24;var n=new Long$1(D,I);c[O]=y&&!0===b?n.lessThanOrEqual(JS_INT_MAX_LONG)&&n.greaterThanOrEqual(JS_INT_MIN_LONG)?n.toNumber():n:n}else if(B===BSON.BSON_DATA_DECIMAL128){var P=new Buffer(16);t.copy(P,0,o,o+16),o+=16;var Y=new decimal128(P);c[O]=Y.toObject?Y.toObject():Y}else if(B===BSON.BSON_DATA_BINARY){var M=t[o++]|t[o++]<<8|t[o++]<<16|t[o++]<<24,v=M,C=t[o++];if(0>M)throw new Error("Negative binary type element size found");if(M>t.length)throw new Error("Binary type size larger than document size");if(null!=t.slice){if(C===Binary$1.SUBTYPE_BYTE_ARRAY){if(M=t[o++]|t[o++]<<8|t[o++]<<16|t[o++]<<24,0>M)throw new Error("Negative binary type element size found for subtype 0x02");if(M>v-4)throw new Error("Binary type with subtype 0x02 contains to long binary size");if(M<v-4)throw new Error("Binary type with subtype 0x02 contains to short binary size")}c[O]=h&&b?t.slice(o,o+M):new Binary$1(t.slice(o,o+M),C)}else{var j="undefined"==typeof Uint8Array?Array(M):new Uint8Array(new ArrayBuffer(M));if(C===Binary$1.SUBTYPE_BYTE_ARRAY){if(M=t[o++]|t[o++]<<8|t[o++]<<16|t[o++]<<24,0>M)throw new Error("Negative binary type element size found for subtype 0x02");if(M>v-4)throw new Error("Binary type with subtype 0x02 contains to long binary size");if(M<v-4)throw new Error("Binary type with subtype 0x02 contains to short binary size")}for(S=0;S<M;S++)j[S]=t[o+S];c[O]=h&&b?j:new Binary$1(j,C)}o+=M}else if(B===BSON.BSON_DATA_REGEXP&&!1===g){for(S=o;0!==t[S]&&S<t.length;)S++;if(S>=t.length)throw new Error("Bad BSON Document: illegal CString");var F=t.toString("utf8",o,S);for(o=S+1,S=o;0!==t[S]&&S<t.length;)S++;if(S>=t.length)throw new Error("Bad BSON Document: illegal CString");var W=t.toString("utf8",o,S);o=S+1;var k=Array(W.length);for(S=0;S<W.length;S++)switch(W[S]){case"m":k[S]="m";break;case"s":k[S]="g";break;case"i":k[S]="i";}c[O]=new RegExp(F,k.join(""))}else if(B===BSON.BSON_DATA_REGEXP&&!0===g){for(S=o;0!==t[S]&&S<t.length;)S++;if(S>=t.length)throw new Error("Bad BSON Document: illegal CString");for(F=t.toString("utf8",o,S),o=S+1,S=o;0!==t[S]&&S<t.length;)S++;if(S>=t.length)throw new Error("Bad BSON Document: illegal CString");W=t.toString("utf8",o,S),o=S+1,c[O]=new BSONRegExp$1(F,W)}else if(B===BSON.BSON_DATA_SYMBOL){if(T=t[o++]|t[o++]<<8|t[o++]<<16|t[o++]<<24,0>=T||T>t.length-o||0!==t[o+T-1])throw new Error("bad string length in bson");c[O]=t.toString("utf8",o,o+T-1),o+=T}else if(B===BSON.BSON_DATA_TIMESTAMP)D=t[o++]|t[o++]<<8|t[o++]<<16|t[o++]<<24,I=t[o++]|t[o++]<<8|t[o++]<<16|t[o++]<<24,c[O]=new Timestamp$1(D,I);else if(B===BSON.BSON_DATA_MIN_KEY)c[O]=new MinKey$1;else if(B===BSON.BSON_DATA_MAX_KEY)c[O]=new MaxKey$1;else if(B===BSON.BSON_DATA_CODE){if(T=t[o++]|t[o++]<<8|t[o++]<<16|t[o++]<<24,0>=T||T>t.length-o||0!==t[o+T-1])throw new Error("bad string length in bson");var z=t.toString("utf8",o,o+T-1);if(!u)c[O]=new Code$1(z);else if(f){var X=a?l(z):z;c[O]=isolateEvalWithHash(functionCache,X,z,c)}else c[O]=isolateEval(z);o+=T}else if(B===BSON.BSON_DATA_CODE_W_SCOPE){var K=t[o++]|t[o++]<<8|t[o++]<<16|t[o++]<<24;if(13>K)throw new Error("code_w_scope total size shorter minimum expected length");if(T=t[o++]|t[o++]<<8|t[o++]<<16|t[o++]<<24,0>=T||T>t.length-o||0!==t[o+T-1])throw new Error("bad string length in bson");z=t.toString("utf8",o,o+T-1),o+=T,R=o,w=t[o]|t[o+1]<<8|t[o+2]<<16|t[o+3]<<24;var J=e(t,R,r,!1);if(o+=w,K<8+w+T)throw new Error("code_w_scope total size is to short, truncating scope");if(K>8+w+T)throw new Error("code_w_scope total size is to long, clips outer document");u?(f?(X=a?l(z):z,c[O]=isolateEvalWithHash(functionCache,X,z,c)):c[O]=isolateEval(z),c[O].scope=J):c[O]=new Code$1(z,J)}else if(B===BSON.BSON_DATA_DBPOINTER){if(T=t[o++]|t[o++]<<8|t[o++]<<16|t[o++]<<24,0>=T||T>t.length-o||0!==t[o+T-1])throw new Error("bad string length in bson");var $=t.toString("utf8",o,o+T-1);o+=T;var Z=new Buffer(12);for(t.copy(Z,0,o,o+12),s=new ObjectID$1(Z),o+=12,S=0;S<$.length;S++)if(65533===$.charCodeAt(S))throw new Error("Invalid UTF-8 string in BSON document");c[O]=new DBRef$1($,s)}else throw new Error("Detected unknown BSON type "+B.toString(16)+" for fieldname \""+O+"\", are you using the latest BSON parser?")}if(A!=o-N){if(_)throw new Error("corrupt array bson");throw new Error("corrupt object bson")}var V=Object.keys(c).filter(function(e){return e.startsWith("$")}),q=!0;if(V.forEach(function(e){-1===["$ref","$id","$db"].indexOf(e)&&(q=!1)}),!q)return c;if(null!=c.$id&&null!=c.$ref){var H=Object.assign({},c);return delete H.$ref,delete H.$id,delete H.$db,new DBRef$1(c.$ref,c.$id,c.$db||null,H)}return c},isolateEvalWithHash=function(functionCache,hash,functionString,object){var value=null;return null==functionCache[hash]&&(eval("value = "+functionString),functionCache[hash]=value),functionCache[hash].bind(object)},isolateEval=function(functionString){var value=null;return eval("value = "+functionString),value},BSON={},functionCache=BSON.functionCache={};BSON.BSON_DATA_NUMBER=1,BSON.BSON_DATA_STRING=2,BSON.BSON_DATA_OBJECT=3,BSON.BSON_DATA_ARRAY=4,BSON.BSON_DATA_BINARY=5,BSON.BSON_DATA_UNDEFINED=6,BSON.BSON_DATA_OID=7,BSON.BSON_DATA_BOOLEAN=8,BSON.BSON_DATA_DATE=9,BSON.BSON_DATA_NULL=10,BSON.BSON_DATA_REGEXP=11,BSON.BSON_DATA_DBPOINTER=12,BSON.BSON_DATA_CODE=13,BSON.BSON_DATA_SYMBOL=14,BSON.BSON_DATA_CODE_W_SCOPE=15,BSON.BSON_DATA_INT=16,BSON.BSON_DATA_TIMESTAMP=17,BSON.BSON_DATA_LONG=18,BSON.BSON_DATA_DECIMAL128=19,BSON.BSON_DATA_MIN_KEY=255,BSON.BSON_DATA_MAX_KEY=127,BSON.BSON_BINARY_SUBTYPE_DEFAULT=0,BSON.BSON_BINARY_SUBTYPE_FUNCTION=1,BSON.BSON_BINARY_SUBTYPE_BYTE_ARRAY=2,BSON.BSON_BINARY_SUBTYPE_UUID=3,BSON.BSON_BINARY_SUBTYPE_MD5=4,BSON.BSON_BINARY_SUBTYPE_USER_DEFINED=128,BSON.BSON_INT32_MAX=2147483647,BSON.BSON_INT32_MIN=-2147483648,BSON.BSON_INT64_MAX=9223372036854776000,BSON.BSON_INT64_MIN=-9223372036854776000,BSON.JS_INT_MAX=9007199254740992,BSON.JS_INT_MIN=-9007199254740992;var JS_INT_MAX_LONG=Long$1.fromNumber(9007199254740992),JS_INT_MIN_LONG=Long$1.fromNumber(-9007199254740992),deserializer=deserialize,readIEEE754=function(t,n,o,r,_){var u,f,a="big"===o,l=8*_-r-1,p=(1<<l)-1,g=p>>1,h=-7,y=a?0:_-1,b=a?1:-1,d=t[n+y];for(y+=b,u=d&(1<<-h)-1,d>>=-h,h+=l;0<h;u=256*u+t[n+y],y+=b,h-=8);for(f=u&(1<<-h)-1,u>>=-h,h+=r;0<h;f=256*f+t[n+y],y+=b,h-=8);if(0===u)u=1-g;else{if(u===p)return f?NaN:(d?-1:1)*(1/0);f+=_Mathpow(2,r),u-=g}return(d?-1:1)*f*_Mathpow(2,u-r)},writeIEEE754=function(t,n,o,r,_,u){var f,a,l,p="big"===r,g=8*u-_-1,h=(1<<g)-1,y=h>>1,b=23===_?5.960464477539063e-8-6.617444900424222e-24:0,N=p?u-1:0,A=p?-1:1,d=0>n||0===n&&0>1/n?1:0;for(n=_Mathabs(n),isNaN(n)||n===1/0?(a=isNaN(n)?1:0,f=h):(f=_Mathfloor(_Mathlog(n)/_MathLN),1>n*(l=_Mathpow(2,-f))&&(f--,l*=2),n+=1<=f+y?b/l:b*_Mathpow(2,1-y),2<=n*l&&(f++,l/=2),f+y>=h?(a=0,f=h):1<=f+y?(a=(n*l-1)*_Mathpow(2,_),f+=y):(a=n*_Mathpow(2,y-1)*_Mathpow(2,_),f=0)),isNaN(n)&&(a=0);8<=_;)t[o+N]=255&a,N+=A,a/=256,_-=8;for(f=f<<_|a,isNaN(n)&&(f+=8),g+=_;0<g;)t[o+N]=255&f,N+=A,f/=256,g-=8;t[o+N-A]|=128*d},readIEEE754_1=readIEEE754,writeIEEE754_1=writeIEEE754,float_parser={readIEEE754:readIEEE754_1,writeIEEE754:writeIEEE754_1},utils={normalizedFunctionString:normalizedFunctionString},_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},writeIEEE754$1=float_parser.writeIEEE754,Long$2=long_1.Long,MinKey$2=min_key.MinKey,Binary$2=binary.Binary,normalizedFunctionString$1=utils.normalizedFunctionString,regexp$1=/\x00/,isDate=function(e){return"object"===("undefined"==typeof e?"undefined":_typeof(e))&&"[object Date]"===Object.prototype.toString.call(e)},isRegExp=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},serializeString=function(e,t,n,i,o){e[i++]=BSON$1.BSON_DATA_STRING;var r=o?e.write(t,i,"ascii"):e.write(t,i,"utf8");i=i+r+1,e[i-1]=0;var s=e.write(n,i+4,"utf8");return e[i+3]=255&s+1>>24,e[i+2]=255&s+1>>16,e[i+1]=255&s+1>>8,e[i]=255&s+1,i=i+4+s,e[i++]=0,i},serializeNumber=function(e,t,n,i,o){if(!(_Mathfloor(n)===n&&n>=BSON$1.JS_INT_MIN&&n<=BSON$1.JS_INT_MAX))e[i++]=BSON$1.BSON_DATA_NUMBER,r=o?e.write(t,i,"ascii"):e.write(t,i,"utf8"),i+=r,e[i++]=0,writeIEEE754$1(e,n,i,"little",52,8),i+=8;else if(n>=BSON$1.BSON_INT32_MIN&&n<=BSON$1.BSON_INT32_MAX){e[i++]=BSON$1.BSON_DATA_INT;var r=o?e.write(t,i,"ascii"):e.write(t,i,"utf8");i+=r,e[i++]=0,e[i++]=255&n,e[i++]=255&n>>8,e[i++]=255&n>>16,e[i++]=255&n>>24}else if(n>=BSON$1.JS_INT_MIN&&n<=BSON$1.JS_INT_MAX)e[i++]=BSON$1.BSON_DATA_NUMBER,r=o?e.write(t,i,"ascii"):e.write(t,i,"utf8"),i+=r,e[i++]=0,writeIEEE754$1(e,n,i,"little",52,8),i+=8;else{e[i++]=BSON$1.BSON_DATA_LONG,r=o?e.write(t,i,"ascii"):e.write(t,i,"utf8"),i+=r,e[i++]=0;var s=Long$2.fromNumber(n),_=s.getLowBits(),u=s.getHighBits();e[i++]=255&_,e[i++]=255&_>>8,e[i++]=255&_>>16,e[i++]=255&_>>24,e[i++]=255&u,e[i++]=255&u>>8,e[i++]=255&u>>16,e[i++]=255&u>>24}return i},serializeNull=function(e,t,n,i,o){e[i++]=BSON$1.BSON_DATA_NULL;var r=o?e.write(t,i,"ascii"):e.write(t,i,"utf8");return i+=r,e[i++]=0,i},serializeBoolean=function(e,t,n,i,o){e[i++]=BSON$1.BSON_DATA_BOOLEAN;var r=o?e.write(t,i,"ascii"):e.write(t,i,"utf8");return i+=r,e[i++]=0,e[i++]=n?1:0,i},serializeDate=function(e,t,n,i,o){e[i++]=BSON$1.BSON_DATA_DATE;var r=o?e.write(t,i,"ascii"):e.write(t,i,"utf8");i+=r,e[i++]=0;var s=Long$2.fromNumber(n.getTime()),_=s.getLowBits(),u=s.getHighBits();return e[i++]=255&_,e[i++]=255&_>>8,e[i++]=255&_>>16,e[i++]=255&_>>24,e[i++]=255&u,e[i++]=255&u>>8,e[i++]=255&u>>16,e[i++]=255&u>>24,i},serializeRegExp=function(e,t,n,i,o){e[i++]=BSON$1.BSON_DATA_REGEXP;var r=o?e.write(t,i,"ascii"):e.write(t,i,"utf8");if(i+=r,e[i++]=0,n.source&&null!=n.source.match(regexp$1))throw Error("value "+n.source+" must not contain null bytes");return i+=e.write(n.source,i,"utf8"),e[i++]=0,n.ignoreCase&&(e[i++]=105),n.global&&(e[i++]=115),n.multiline&&(e[i++]=109),e[i++]=0,i},serializeBSONRegExp=function(e,t,n,i,o){e[i++]=BSON$1.BSON_DATA_REGEXP;var r=o?e.write(t,i,"ascii"):e.write(t,i,"utf8");if(i+=r,e[i++]=0,null!=n.pattern.match(regexp$1))throw Error("pattern "+n.pattern+" must not contain null bytes");return i+=e.write(n.pattern,i,"utf8"),e[i++]=0,i+=e.write(n.options.split("").sort().join(""),i,"utf8"),e[i++]=0,i},serializeMinMax=function(e,t,n,i,o){e[i++]=null===n?BSON$1.BSON_DATA_NULL:n instanceof MinKey$2?BSON$1.BSON_DATA_MIN_KEY:BSON$1.BSON_DATA_MAX_KEY;var r=o?e.write(t,i,"ascii"):e.write(t,i,"utf8");return i+=r,e[i++]=0,i},serializeObjectId=function(e,t,n,i,o){e[i++]=BSON$1.BSON_DATA_OID;var r=o?e.write(t,i,"ascii"):e.write(t,i,"utf8");if(i+=r,e[i++]=0,"string"==typeof n.id)e.write(n.id,i,"binary");else if(n.id&&n.id.copy)n.id.copy(e,i,0,12);else throw new TypeError("object ["+JSON.stringify(n)+"] is not a valid ObjectId");return i+12},serializeBuffer=function(e,t,n,i,o){e[i++]=BSON$1.BSON_DATA_BINARY;var r=o?e.write(t,i,"ascii"):e.write(t,i,"utf8");i+=r,e[i++]=0;var s=n.length;return e[i++]=255&s,e[i++]=255&s>>8,e[i++]=255&s>>16,e[i++]=255&s>>24,e[i++]=BSON$1.BSON_BINARY_SUBTYPE_DEFAULT,n.copy(e,i,0,s),i+=s,i},serializeObject=function(e,t,n,o,r,s,_,u,f,a){for(var l=0;l<a.length;l++)if(a[l]===n)throw new Error("cyclic dependency detected");a.push(n),e[o++]=Array.isArray(n)?BSON$1.BSON_DATA_ARRAY:BSON$1.BSON_DATA_OBJECT;var d=f?e.write(t,o,"ascii"):e.write(t,o,"utf8");o+=d,e[o++]=0;var p=serializeInto(e,n,r,o,s+1,_,u,a);return a.pop(),p},serializeDecimal128=function(e,t,n,i,o){e[i++]=BSON$1.BSON_DATA_DECIMAL128;var r=o?e.write(t,i,"ascii"):e.write(t,i,"utf8");return i+=r,e[i++]=0,n.bytes.copy(e,i,0,16),i+16},serializeLong=function(e,t,n,i,o){e[i++]="Long"===n._bsontype?BSON$1.BSON_DATA_LONG:BSON$1.BSON_DATA_TIMESTAMP;var r=o?e.write(t,i,"ascii"):e.write(t,i,"utf8");i+=r,e[i++]=0;var s=n.getLowBits(),_=n.getHighBits();return e[i++]=255&s,e[i++]=255&s>>8,e[i++]=255&s>>16,e[i++]=255&s>>24,e[i++]=255&_,e[i++]=255&_>>8,e[i++]=255&_>>16,e[i++]=255&_>>24,i},serializeInt32=function(e,t,n,i,o){e[i++]=BSON$1.BSON_DATA_INT;var r=o?e.write(t,i,"ascii"):e.write(t,i,"utf8");return i+=r,e[i++]=0,e[i++]=255&n,e[i++]=255&n>>8,e[i++]=255&n>>16,e[i++]=255&n>>24,i},serializeDouble=function(e,t,n,i,o){e[i++]=BSON$1.BSON_DATA_NUMBER;var r=o?e.write(t,i,"ascii"):e.write(t,i,"utf8");return i+=r,e[i++]=0,writeIEEE754$1(e,n.value,i,"little",52,8),i+=8,i},serializeFunction=function(e,t,n,i,o,r,s){e[i++]=BSON$1.BSON_DATA_CODE;var _=s?e.write(t,i,"ascii"):e.write(t,i,"utf8");i+=_,e[i++]=0;var u=normalizedFunctionString$1(n),f=e.write(u,i+4,"utf8")+1;return e[i]=255&f,e[i+1]=255&f>>8,e[i+2]=255&f>>16,e[i+3]=255&f>>24,i=i+4+f-1,e[i++]=0,i},serializeCode=function(e,t,n,i,o,r,s,_,u){if(n.scope&&"object"===_typeof(n.scope)){e[i++]=BSON$1.BSON_DATA_CODE_W_SCOPE;var f=u?e.write(t,i,"ascii"):e.write(t,i,"utf8");i+=f,e[i++]=0;var a=i,l="string"==typeof n.code?n.code:n.code.toString();i+=4;var d=e.write(l,i+4,"utf8")+1;e[i]=255&d,e[i+1]=255&d>>8,e[i+2]=255&d>>16,e[i+3]=255&d>>24,e[i+4+d-1]=0,i=i+d+4;var p=serializeInto(e,n.scope,o,i,r+1,s,_);i=p-1;var g=p-a;e[a++]=255&g,e[a++]=255&g>>8,e[a++]=255&g>>16,e[a++]=255&g>>24,e[i++]=0}else{e[i++]=BSON$1.BSON_DATA_CODE,f=u?e.write(t,i,"ascii"):e.write(t,i,"utf8"),i+=f,e[i++]=0,l=n.code.toString();var h=e.write(l,i+4,"utf8")+1;e[i]=255&h,e[i+1]=255&h>>8,e[i+2]=255&h>>16,e[i+3]=255&h>>24,i=i+4+h-1,e[i++]=0}return i},serializeBinary=function(e,t,n,i,o){e[i++]=BSON$1.BSON_DATA_BINARY;var r=o?e.write(t,i,"ascii"):e.write(t,i,"utf8");i+=r,e[i++]=0;var s=n.value(!0),_=n.position;return n.sub_type===Binary$2.SUBTYPE_BYTE_ARRAY&&(_+=4),e[i++]=255&_,e[i++]=255&_>>8,e[i++]=255&_>>16,e[i++]=255&_>>24,e[i++]=n.sub_type,n.sub_type===Binary$2.SUBTYPE_BYTE_ARRAY&&(_-=4,e[i++]=255&_,e[i++]=255&_>>8,e[i++]=255&_>>16,e[i++]=255&_>>24),s.copy(e,i,0,n.position),i+=n.position,i},serializeSymbol=function(e,t,n,i,o){e[i++]=BSON$1.BSON_DATA_SYMBOL;var r=o?e.write(t,i,"ascii"):e.write(t,i,"utf8");i+=r,e[i++]=0;var s=e.write(n.value,i+4,"utf8")+1;return e[i]=255&s,e[i+1]=255&s>>8,e[i+2]=255&s>>16,e[i+3]=255&s>>24,i=i+4+s-1,e[i++]=0,i},serializeDBRef=function(e,t,n,i,o,r,s){e[i++]=BSON$1.BSON_DATA_OBJECT;var _=s?e.write(t,i,"ascii"):e.write(t,i,"utf8");i+=_,e[i++]=0;var u,f=i,a={$ref:n.collection,$id:n.oid};null!=n.db&&(a.$db=n.db),a=Object.assign(a,n.fields),u=serializeInto(e,a,!1,i,o+1,r);var l=u-f;return e[f++]=255&l,e[f++]=255&l>>8,e[f++]=255&l>>16,e[f++]=255&l>>24,u},serializeInto=function(e,t,n,o,r,s,_,u){o=o||0,u=u||[],u.push(t);var f=o+4;if(Array.isArray(t))for(var a=0;a<t.length;a++){var l=""+a,d=t[a];if(d&&d.toBSON){if("function"!=typeof d.toBSON)throw new TypeError("toBSON is not a function");d=d.toBSON()}var p="undefined"==typeof d?"undefined":_typeof(d);"string"===p?f=serializeString(e,l,d,f,!0):"number"===p?f=serializeNumber(e,l,d,f,!0):"boolean"===p?f=serializeBoolean(e,l,d,f,!0):d instanceof Date||isDate(d)?f=serializeDate(e,l,d,f,!0):void 0===d?f=serializeNull(e,l,d,f,!0):null===d?f=serializeNull(e,l,d,f,!0):"ObjectID"===d._bsontype?f=serializeObjectId(e,l,d,f,!0):Buffer.isBuffer(d)?f=serializeBuffer(e,l,d,f,!0):d instanceof RegExp||isRegExp(d)?f=serializeRegExp(e,l,d,f,!0):"object"===p&&null==d._bsontype?f=serializeObject(e,l,d,f,n,r,s,_,!0,u):"object"===p&&"Decimal128"===d._bsontype?f=serializeDecimal128(e,l,d,f,!0):"Long"===d._bsontype||"Timestamp"===d._bsontype?f=serializeLong(e,l,d,f,!0):"Double"===d._bsontype?f=serializeDouble(e,l,d,f,!0):"function"==typeof d&&s?f=serializeFunction(e,l,d,f,n,r,s,!0):"Code"===d._bsontype?f=serializeCode(e,l,d,f,n,r,s,_,!0):"Binary"===d._bsontype?f=serializeBinary(e,l,d,f,!0):"Symbol"===d._bsontype?f=serializeSymbol(e,l,d,f,!0):"DBRef"===d._bsontype?f=serializeDBRef(e,l,d,f,r,s,!0):"BSONRegExp"===d._bsontype?f=serializeBSONRegExp(e,l,d,f,!0):"Int32"===d._bsontype?f=serializeInt32(e,l,d,f,!0):("MinKey"===d._bsontype||"MaxKey"===d._bsontype)&&(f=serializeMinMax(e,l,d,f,!0))}else if(t instanceof map){for(var g,h=t.entries(),y=!1;!y;)if(g=h.next(),y=g.done,!y){if(l=g.value[0],d=g.value[1],p="undefined"==typeof d?"undefined":_typeof(d),"$db"!==l&&"$ref"!==l&&"$id"!==l){if(null!=l.match(regexp$1))throw Error("key "+l+" must not contain null bytes");if(n)if("$"===l[0])throw Error("key "+l+" must not start with '$'");else if(~l.indexOf("."))throw Error("key "+l+" must not contain '.'")}"string"===p?f=serializeString(e,l,d,f):"number"===p?f=serializeNumber(e,l,d,f):"boolean"===p?f=serializeBoolean(e,l,d,f):d instanceof Date||isDate(d)?f=serializeDate(e,l,d,f):null===d||void 0===d&&!1===_?f=serializeNull(e,l,d,f):"ObjectID"===d._bsontype?f=serializeObjectId(e,l,d,f):Buffer.isBuffer(d)?f=serializeBuffer(e,l,d,f):d instanceof RegExp||isRegExp(d)?f=serializeRegExp(e,l,d,f):"object"===p&&null==d._bsontype?f=serializeObject(e,l,d,f,n,r,s,_,!1,u):"object"===p&&"Decimal128"===d._bsontype?f=serializeDecimal128(e,l,d,f):"Long"===d._bsontype||"Timestamp"===d._bsontype?f=serializeLong(e,l,d,f):"Double"===d._bsontype?f=serializeDouble(e,l,d,f):"Code"===d._bsontype?f=serializeCode(e,l,d,f,n,r,s,_):"function"==typeof d&&s?f=serializeFunction(e,l,d,f,n,r,s):"Binary"===d._bsontype?f=serializeBinary(e,l,d,f):"Symbol"===d._bsontype?f=serializeSymbol(e,l,d,f):"DBRef"===d._bsontype?f=serializeDBRef(e,l,d,f,r,s):"BSONRegExp"===d._bsontype?f=serializeBSONRegExp(e,l,d,f):"Int32"===d._bsontype?f=serializeInt32(e,l,d,f):("MinKey"===d._bsontype||"MaxKey"===d._bsontype)&&(f=serializeMinMax(e,l,d,f))}}else{if(t.toBSON){if("function"!=typeof t.toBSON)throw new TypeError("toBSON is not a function");if(t=t.toBSON(),null!=t&&"object"!==("undefined"==typeof t?"undefined":_typeof(t)))throw new TypeError("toBSON function did not return an object")}for(l in t){if(d=t[l],d&&d.toBSON){if("function"!=typeof d.toBSON)throw new TypeError("toBSON is not a function");d=d.toBSON()}if(p="undefined"==typeof d?"undefined":_typeof(d),"$db"!==l&&"$ref"!==l&&"$id"!==l){if(null!=l.match(regexp$1))throw Error("key "+l+" must not contain null bytes");if(n)if("$"===l[0])throw Error("key "+l+" must not start with '$'");else if(~l.indexOf("."))throw Error("key "+l+" must not contain '.'")}"string"===p?f=serializeString(e,l,d,f):"number"===p?f=serializeNumber(e,l,d,f):"boolean"===p?f=serializeBoolean(e,l,d,f):d instanceof Date||isDate(d)?f=serializeDate(e,l,d,f):void 0===d?!1===_&&(f=serializeNull(e,l,d,f)):null===d?f=serializeNull(e,l,d,f):"ObjectID"===d._bsontype?f=serializeObjectId(e,l,d,f):Buffer.isBuffer(d)?f=serializeBuffer(e,l,d,f):d instanceof RegExp||isRegExp(d)?f=serializeRegExp(e,l,d,f):"object"===p&&null==d._bsontype?f=serializeObject(e,l,d,f,n,r,s,_,!1,u):"object"===p&&"Decimal128"===d._bsontype?f=serializeDecimal128(e,l,d,f):"Long"===d._bsontype||"Timestamp"===d._bsontype?f=serializeLong(e,l,d,f):"Double"===d._bsontype?f=serializeDouble(e,l,d,f):"Code"===d._bsontype?f=serializeCode(e,l,d,f,n,r,s,_):"function"==typeof d&&s?f=serializeFunction(e,l,d,f,n,r,s):"Binary"===d._bsontype?f=serializeBinary(e,l,d,f):"Symbol"===d._bsontype?f=serializeSymbol(e,l,d,f):"DBRef"===d._bsontype?f=serializeDBRef(e,l,d,f,r,s):"BSONRegExp"===d._bsontype?f=serializeBSONRegExp(e,l,d,f):"Int32"===d._bsontype?f=serializeInt32(e,l,d,f):("MinKey"===d._bsontype||"MaxKey"===d._bsontype)&&(f=serializeMinMax(e,l,d,f))}}u.pop(),e[f++]=0;var b=f-o;return e[o++]=255&b,e[o++]=255&b>>8,e[o++]=255&b>>16,e[o++]=255&b>>24,f},BSON$1={};BSON$1.BSON_DATA_NUMBER=1,BSON$1.BSON_DATA_STRING=2,BSON$1.BSON_DATA_OBJECT=3,BSON$1.BSON_DATA_ARRAY=4,BSON$1.BSON_DATA_BINARY=5,BSON$1.BSON_DATA_UNDEFINED=6,BSON$1.BSON_DATA_OID=7,BSON$1.BSON_DATA_BOOLEAN=8,BSON$1.BSON_DATA_DATE=9,BSON$1.BSON_DATA_NULL=10,BSON$1.BSON_DATA_REGEXP=11,BSON$1.BSON_DATA_CODE=13,BSON$1.BSON_DATA_SYMBOL=14,BSON$1.BSON_DATA_CODE_W_SCOPE=15,BSON$1.BSON_DATA_INT=16,BSON$1.BSON_DATA_TIMESTAMP=17,BSON$1.BSON_DATA_LONG=18,BSON$1.BSON_DATA_DECIMAL128=19,BSON$1.BSON_DATA_MIN_KEY=255,BSON$1.BSON_DATA_MAX_KEY=127,BSON$1.BSON_BINARY_SUBTYPE_DEFAULT=0,BSON$1.BSON_BINARY_SUBTYPE_FUNCTION=1,BSON$1.BSON_BINARY_SUBTYPE_BYTE_ARRAY=2,BSON$1.BSON_BINARY_SUBTYPE_UUID=3,BSON$1.BSON_BINARY_SUBTYPE_MD5=4,BSON$1.BSON_BINARY_SUBTYPE_USER_DEFINED=128,BSON$1.BSON_INT32_MAX=2147483647,BSON$1.BSON_INT32_MIN=-2147483648,BSON$1.BSON_INT64_MAX=9223372036854776000,BSON$1.BSON_INT64_MIN=-9223372036854776000,BSON$1.JS_INT_MAX=9007199254740992,BSON$1.JS_INT_MIN=-9007199254740992;var serializer=serializeInto,Long$3=long_1.Long,Double$2=double_1.Double,Timestamp$2=timestamp.Timestamp,ObjectID$2=objectid.ObjectID,_Symbol$1=symbol.Symbol,BSONRegExp$2=regexp.BSONRegExp,Code$2=code.Code,MinKey$3=min_key.MinKey,MaxKey$2=max_key.MaxKey,DBRef$2=db_ref.DBRef,Binary$3=binary.Binary,normalizedFunctionString$2=utils.normalizedFunctionString,isDate$1=function(e){return"object"===("undefined"==typeof e?"undefined":_typeof(e))&&"[object Date]"===Object.prototype.toString.call(e)},calculateObjectSize=function(e,t,n){var o=5;if(Array.isArray(e))for(var r=0;r<e.length;r++)o+=calculateElement(r.toString(),e[r],t,!0,n);else for(var s in e.toBSON&&(e=e.toBSON()),e)o+=calculateElement(s,e[s],t,!1,n);return o},BSON$2={};BSON$2.BSON_INT32_MAX=2147483647,BSON$2.BSON_INT32_MIN=-2147483648,BSON$2.JS_INT_MAX=9007199254740992,BSON$2.JS_INT_MIN=-9007199254740992;var calculate_size=calculateObjectSize,MAXSIZE=17825792,buffer=new Buffer(MAXSIZE),BSON$3=function(){};BSON$3.prototype.serialize=function(e,t){t=t||{};var n="boolean"==typeof t.checkKeys&&t.checkKeys,i="boolean"==typeof t.serializeFunctions&&t.serializeFunctions,o="boolean"!=typeof t.ignoreUndefined||t.ignoreUndefined,r="number"==typeof t.minInternalBufferSize?t.minInternalBufferSize:MAXSIZE;buffer.length<r&&(buffer=new Buffer(r));var s=serializer(buffer,e,n,0,0,i,o,[]),_=new Buffer(s);return buffer.copy(_,0,0,_.length),_},BSON$3.prototype.serializeWithBufferAndIndex=function(e,t,n){n=n||{};var i="boolean"==typeof n.checkKeys&&n.checkKeys,o="boolean"==typeof n.serializeFunctions&&n.serializeFunctions,r="boolean"!=typeof n.ignoreUndefined||n.ignoreUndefined,s="number"==typeof n.index?n.index:0,_=serializer(buffer,e,i,0,0,o,r);return buffer.copy(t,s,0,_),s+_-1},BSON$3.prototype.deserialize=function(e,t){return deserializer(e,t)},BSON$3.prototype.calculateObjectSize=function(e,t){t=t||{};var n=!("boolean"!=typeof t.serializeFunctions)&&t.serializeFunctions,i="boolean"!=typeof t.ignoreUndefined||t.ignoreUndefined;return calculate_size(e,n,i)},BSON$3.prototype.deserializeStream=function(e,t,n,o,r,s){s=Object.assign({allowObjectSmallerThanBufferSize:!0},s);for(var _,u=t,f=0;f<n;f++)_=e[u]|e[u+1]<<8|e[u+2]<<16|e[u+3]<<24,s.index=u,o[r+f]=this.deserialize(e,s),u+=_;return u},BSON$3.BSON_INT32_MAX=2147483647,BSON$3.BSON_INT32_MIN=-2147483648,BSON$3.BSON_INT64_MAX=9223372036854776000,BSON$3.BSON_INT64_MIN=-9223372036854776000,BSON$3.JS_INT_MAX=9007199254740992,BSON$3.JS_INT_MIN=-9007199254740992,BSON$3.BSON_DATA_NUMBER=1,BSON$3.BSON_DATA_STRING=2,BSON$3.BSON_DATA_OBJECT=3,BSON$3.BSON_DATA_ARRAY=4,BSON$3.BSON_DATA_BINARY=5,BSON$3.BSON_DATA_OID=7,BSON$3.BSON_DATA_BOOLEAN=8,BSON$3.BSON_DATA_DATE=9,BSON$3.BSON_DATA_NULL=10,BSON$3.BSON_DATA_REGEXP=11,BSON$3.BSON_DATA_CODE=13,BSON$3.BSON_DATA_SYMBOL=14,BSON$3.BSON_DATA_CODE_W_SCOPE=15,BSON$3.BSON_DATA_INT=16,BSON$3.BSON_DATA_TIMESTAMP=17,BSON$3.BSON_DATA_LONG=18,BSON$3.BSON_DATA_MIN_KEY=255,BSON$3.BSON_DATA_MAX_KEY=127,BSON$3.BSON_BINARY_SUBTYPE_DEFAULT=0,BSON$3.BSON_BINARY_SUBTYPE_FUNCTION=1,BSON$3.BSON_BINARY_SUBTYPE_BYTE_ARRAY=2,BSON$3.BSON_BINARY_SUBTYPE_UUID=3,BSON$3.BSON_BINARY_SUBTYPE_MD5=4,BSON$3.BSON_BINARY_SUBTYPE_USER_DEFINED=128;var bson=BSON$3,Code_1$1=code,Map_1=map,Symbol_1$1=symbol,BSON_1=BSON$3,DBRef_1$1=db_ref,Binary_1$1=binary,ObjectID_1$1=objectid,Long_1$1=long_1,Timestamp_1$1=timestamp,Double_1$1=double_1,Int32_1$1=int_32,MinKey_1$1=min_key,MaxKey_1$1=max_key,BSONRegExp_1$1=regexp,Decimal128_1$1=decimal128;bson.Code=Code_1$1,bson.Map=Map_1,bson.Symbol=Symbol_1$1,bson.BSON=BSON_1,bson.DBRef=DBRef_1$1,bson.Binary=Binary_1$1,bson.ObjectID=ObjectID_1$1,bson.Long=Long_1$1,bson.Timestamp=Timestamp_1$1,bson.Double=Double_1$1,bson.Int32=Int32_1$1,bson.MinKey=MinKey_1$1,bson.MaxKey=MaxKey_1$1,bson.BSONRegExp=BSONRegExp_1$1,bson.Decimal128=Decimal128_1$1,bson.BSON_INT32_MAX=2147483647,bson.BSON_INT32_MIN=-2147483648,bson.BSON_INT64_MAX=9223372036854776000,bson.BSON_INT64_MIN=-9223372036854776000,bson.JS_INT_MAX=9007199254740992,bson.JS_INT_MIN=-9007199254740992,bson.Binary=binary,bson.Code=code,bson.DBRef=db_ref,bson.Decimal128=decimal128,bson.Double=double_1,bson.Int32=int_32,bson.Long=long_1,bson.Map=map,bson.MaxKey=max_key,bson.MinKey=min_key,bson.ObjectId=objectid,bson.ObjectID=objectid,bson.BSONRegExp=regexp,bson.Symbol=symbol,bson.Timestamp=timestamp;var jsBson=bson;return jsBson});